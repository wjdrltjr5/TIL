# 라이브니스

임계구역에 대한 액세스를 조정하기 위해 동기화 도구를 사용하는 것의 한 가지 결과는 임계구역에 들어가려고 시도하는 프로세스가 무기한 대기할 가능서이 있다는것

무기한 대기는 진행 및 한정된 대기 두개의 기준을 윕나한다.

`라이브니스`는 프로세스가 실행 수명주기 동안 진행되는 것을 보장하기 위해 시슽메 충족해야 하는 일련의 속성을 말한다.

다양한 형태의 라이브니스 실패가 존재한다. 모두 성능과 응답성이 나쁜것이 특징 실패의 간단한 예는 무한 루프이다. 바쁜 대기 루프는 라이브니스 실패의 가능성이 있다.

## 6.8.1 교착 상태

대기 큐를 가진 세마포를 구현은 두 개 이상의 프로세스들이, 오로지 대기 중인 프로세스들 중 하나에 의해서만 야기될 수 있는 이벤트를 무한정 기다리는 상황이 발생할 수 있다.

이 이벤트란 signal() 연산의 실행을 의미한다. 이런 상태에 도달했을때 이들 프로세스들을 `교착 상태`라고 한다.

## 6.8.2 우선순위 역전

높은 우선순위 프로세스가 현재 낮은 우선순위 프로세스 또는 연속된 낮은 우선순위 프로세스들에 접근되고 있는 커널 데이터를 읽거나 변경할 필요가 있을 때 스케줄링의 어려움이 생기게 된다.

`통상 커널 데이터는 락에 의해 보호되기 떄문에 낮은 우선순위 프로세스가 자원의 사용을 마칠 때까지 높은 우선순위 프로세스가 기다려야 한다.`

낮은 우선순위 프로세스가 또 다른 높은 우선순위 프로세스에 의해 선점되는 경우에 상황은 더욱 복잡해 진다.

이 라이브니스 문제는 `우선순위 역전`문제로 알려져 있으며 이문제는 셋 이상의 우선순위를 가진 시스템에서만 발생한다.

우선순위 역전문제는 `우선순위 상속 프로토콜`을 구현하여 해결한다.

이 프로토콜을 따르면 더 높은 우선순위가 필요로 하는 자원에 접근하는 모든 프로세스는 문제가 된 자원의 사용이 끝날 때까지 더 높은 우선순위를 상속 받는다. 자원 사용이 끝나면 원래 우선순위로 돌아간다. (선점 방지)
