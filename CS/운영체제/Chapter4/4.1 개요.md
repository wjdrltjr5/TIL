# 개요

스레드는 CPU 이용의 기본 단위이다. 스레드 ID, PC, 레지스터의 집합, 스택으로 구성된다.

스레드는 같은 프로세스에 속한 다른 스레드와 `코드, 데이터 섹션, 그리고 열린 파일이나 신호와 같은 운영체제 자원들을 공유한다.`

## 4.1.1 동기

다중 스레드 응용프로그램의 몇가지 예

-   이미지 모음에서 사진 축소판을 만드는 응용프로그램은 별도의 스레드를 사용하여 개별 이미지에서 축소판을 생성할 수 있다.

-   웹 브라우저는 하나의 스레드가 이미지 또는 텍스트를 표시하고 다른 스레드는 네트워크에서 데이터를 검색하도록 할 수 있다.

-   워드 프로세스에는 그래픽을 표시하는 스레드, 사용자의 키 입력에 응답하는 다른 스레드 및 백그라운드에서 맞춤법 및 문법 검사를 수행하는 세 번째 스레드가 있을 수 있다.

응용은 다중 코어 시스템에서 처리 능력을 향상시키도록 설게될 수 있다. 이러한 응용은 다중 계산 코어를 사용하여 다수의 CPU-집중 작업을 병렬로 처리할 수 있다.

## 4.1.2 장점

다중 스레드 프로그래밍의 이점은 다음의 4가지 큰 분류로 나눌 수 있다.

-   응답성(responsiveness): 대화형 응용을 다중 스레드화하면 응용프로그램의 일부분이 봉쇄되거나, 응용프로그램이 긴 작업을 수행하더라도 프로그램의 수행이 계속되는 것을 허용함으로써, 사용자에 대한 응답성을 증가시킨다.

    -   사용자가 시간이 많이 걸리는 연산을 시작하는 단추를 클릭했을때 별도의 비동기적 스레드에서 실행된다면 응용은 여전히 사용자에게 응답할 수 있다.

-   자원 공유(resource sharing): 프로세스는 공유 메모리와 메시지 전달 기법을 통하여만 자원을 공유할 수 있다. 그러나 스레드는 자동으로 속한 프로세스의 자원들과 메모리를 공유한다.

    -   코드와 데이터 공유의 이점은 응용프로그램이 같은 주소 공간내에 여러 개의 다른 작업을 하는 스레드를 가질 수 있다는 점이다.

-   경제성(economy): 프로세스 생성을 위해 메모리 자원을 할당하는 것은 비용이 많이 든다. 스레드는 자신이 속한 프로세스의 자원을 공유하기 떄문에, 스레드를 생성하고 문맥교환하는 것이 더욱더 경제적이다.

    -   일반적으로 스레드 생성은 프로세스생성보다 시간과 메모리를 덜 소비한다.
    -   문맥교환은 일반적으로 프로세스 사이보다 스레드 사이에서 더 빠르다.

-   규모 적응성(scalability): 다중 스레드의 이점은 다중 처리기 구조에서 더욱 증가할 수 있다. 다중 처리기 구조에서는 각각의 스레드가 다른 처리기에서 병렬로 수행될 수 있기 떄문이다 단일 스레드 프로세스는 처리기가 아무리 많더라도 오직 한 처리기에서만 실행된다.
