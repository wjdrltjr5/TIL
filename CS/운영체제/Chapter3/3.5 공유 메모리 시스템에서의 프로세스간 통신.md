# 공유 메모리 시스템에서의 프로세스간 통신

공유 메모리를 사용하는 프로세스간 통신에서는 통신하는 프로세스들이 공유 메모리 영역을 구축해야 한다.

통상 공유 메모리 영역은 공유 메모리 세그먼트를 생성하는 프로세스의 주소 공간에 위치한다. 이 공유 메모리 세그먼트를 이용하여 통신하고자 하는 다른 프로세스들은 이 세그먼트를 자신의 주소 공간에 추가하여야 한다.

공유 메모리는 둘 이상의 프로세스가 다른 프로세스의 메모리에 접근 금지 제약조건을 제거하는 것에 동의하는 것을 필요로 한다.

그 후 프로세스들은 공유 영역에 읽고 씀으로써 정보를 교환할 수 있다.

`생산자`프로세스는 정보를 생산하고 `소비자`프로세ㅐ스는 정보를 소비한다. (ex. 웹서버 프로세스는 생산자 클라이언트 프로세스는 소비자)

생산자-소비자 문제의 하나의 해결책은 공유 메모리를 사용하는 것이다. 생산자와 소비자 프로세스가 병행으로 실행되도록 하려면, 생산자가 정보를 채워넣고 소비사자 소모할 수 있는 항목들의 버퍼가 반드시 사용 가능해야 한다.

생산자와 소비자가 동기화 되어야 생산되지도 않은 항목들을 소비자가 소비하려고 시도하지 않을 것이다.

두 가지 유형의 버퍼가 사용된다.

-   `무한 버퍼(unbounded buffer)` : 버퍼의 크기에 실질적인 한계가 없다. 소비자는 새로운 항목을 기다려야 할 수도 있지만, 생산자는 항상 새로운 항목을 생산할 수 있다.

-   `유한 버퍼 (bounded buffer)` : 버퍼의 크기가 고정되어있다고 가정한다. 이경우 버퍼가 비어있으면 소비자는 반드시 대기해야 하며, 모든 버퍼가 채워져있으면 생산자가 대기해야 한다.

ps. 버퍼 사용프로세스 코드는 파일처리론 수업때 각 소비사, 생산자 프로세스에서 대기하는 코드랑 똑같음 사용할수 없으면 대기하는거
