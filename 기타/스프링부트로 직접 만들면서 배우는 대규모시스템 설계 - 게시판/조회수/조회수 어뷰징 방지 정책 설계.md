# 조회수 어뷰징 방지 정책 설계

Redis TTL사용

-   게시글 조회는 사용자 단위로 식별되므로 key = (articleid + userid)가 된다.
-   이미 저장된 데이터가 있으면 저장에 실패하는 명령어를 사용

    -   setIfAbsent (데이터가 없을 때에만 저장) true/false 반환

-   데이터 저장 성공 여부에 따라

    -   저장 성공시 기존 조회 내역 없었으므로 조회수 증가
    -   저장 실패기 기존 조회 내역이 있으므로 조회수 증가 x

-   우리의 시스템은 확장성이 고려된 분산 시스템
    -   Scale-out을 고려한 환경
    -   조회수 서비스는 여러 개의 서버 애플리케이션으로 구성
-   이렇게 분산 시스템에서 락을 획득하는 것을 `분산락`이라고 한다.
    -   Distributed lock
