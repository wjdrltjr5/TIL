# V$SYSTEM_EVENT

오라클은 서버 프로세스와 백그라운드 프로세스들이 일을 처리하는 과정에서 발생하는 대기 현상들을 측정하려고 갖가지 대기 이벤트들을 정의하였다.

프로세스들이 일을 진행하다가 대기 이벤트가 발생할 떄마다 그 횟수와 대기 시간을 내부에 저장한다.

v$system_event는 인스턴스 기동 후 현재까지 누적된 이벤트 발생 현황을 시스템 레벨로 확인하고자 할때 사용한다.

대기 이벤트는 v$system_event, v$session_event, v$session_wait등 뷰를 통해 확인할 수 있을 뿐 아니라 각 세션별로 이벤트 발생 상황을 로깅하는 기능도 제공한다.

10046 이벤트 트레이스 레벨을 8로 설정하고 소요시간이 오래 걸리는 쿼리를 수행했을때 어떤 입네트 정보들이 쌓이는지 확인해 볼 수 있다.

이 정보를 통해 쿼리 성능이 느린 1차적인 원인(디스크 I/O, Lock 래치 경합, RAC 병목, 네트워크 트래픽)을 판단할 수 있다.

이벤트 트레이스를 걸지 않았더라도 v$session_wait을 조회해 보면 세션에서 현재 어떤 이벤트가 발생하고 있는지 곧바로 확인해 볼 수 있다.

쿼리 결과는 WAIT_TIME값에 따라 해석이 달라진다.

-   WAIT_TIME > 0 : 마지막 대기 이벤트를 대기한 시간
-   WAIT_TIME = 0 : 이 이벤트를 현재 대기 중
-   WAIT_TIME = -1 : 마지막 대기 이벤트를 대기한 시간이 10ms 미만
-   WAIT_TIME = -2 : 타이밍이 활성화 되지 않음
