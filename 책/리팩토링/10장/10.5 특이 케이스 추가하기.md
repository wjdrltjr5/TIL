# νΉμ΄ μΌ€μ΄μ¤ μ¶”κ°€ν•κΈ°

```JavaScript
if(aCustomer === "λ―Έν™•μΈ κ³ κ°") customerName = "κ±°μ£Όμ";
```

<center>π”½</center>

```JavaScript
class UnknownCustomer{
  get name() {return "κ±°μ£Όμ";}
}
```

## λ°°κ²½

λ°μ΄ν„° κµ¬μ΅°μ νΉμ • κ°’μ„ ν™•μΈν• ν›„ λ‘κ°™μ€ λ™μ‘μ„ μν–‰ν•λ” μ½”λ“κ°€ κ³³κ³³μ— νΉμ¥ν•λ” κ²½μ°κ°€ λ”λ¬ μλ”λ° ν”ν λ³Ό μ μλ” μ¤‘λ³µμ½”λ“ μ΄λ¬ν• κ²½μ° ν•κ³³μΌλ΅ λ¨μΌλ”κ² ν¨μ¨μ 

νΉμν• κ²½μ°μ κ³µν†µ λ™μ‘μ„ μ”μ† ν•λ‚μ— λ¨μ•„μ„ μ‚¬μ©ν•λ” νΉμ΄ μΌ€μ΄μ¤ ν¨ν„΄μ΄λΌλ” κ²ƒμ΄ μλ”λ°, λ°”λ΅ μ΄λ΄ λ• μ μ©ν•λ©΄ μΆ‹μ€ λ©”μ»¤λ‹μ¦μ΄λ‹¤.

## μ μ°¨

λ¦¬ν©ν„°λ§μ λ€μƒμ΄ λ  μ†μ„±μ„ λ‹΄μ€ λ°μ΄ν„° κµ¬μ΅°(νΉμ€ ν΄λμ¤)μ—μ„ μ‹μ‘ν•μ. μ΄ λ°μ΄ν„° κµ¬μ΅°λ¥Ό μ»¨ν…μ΄λ„λΌ ν•κ² λ‹¤

μ»¨ν…μ΄λ„λ¥Ό μ‚¬μ©ν•λ” μ½”λ“μ—μ„λ” ν•΄λ‹Ή μ†μ„±μ΄ νΉμ΄ν• κ°’μΈμ§€λ¥Ό κ²€μ‚¬ν•λ‹¤.

μ΄ λ€μƒμ΄ κ°€μ§ μ μλ” κ°’ μ¤‘ νΉλ³„ν•κ² λ‹¤λ¤„μ•Ό ν•  κ°’μ„ νΉμ΄μΌ€μ΄μ¤ ν΄λμ¤(νΉμ€ λ°μ΄ν„° κµ¬μ΅°)λ΅ λ€μ²΄ν•κ³ μ ν•λ‹¤

-   μ»¨ν…μ΄λ„μ— νΉμ΄ μΌ€μ΄μ¤μΈμ§€λ¥Ό κ²€μ‚¬ν•λ” μ†μ„±μ„ μ¶”κ°€ν•κ³ , falseλ¥Ό λ°ν™ν•κ² ν•λ‹¤.

-   νΉμ΄ μΌ€μ΄μ¤ κ°μ²΄λ¥Ό λ§λ“ λ‹¤. μ΄ κ°μ²΄λ” νΉμ΄ μΌ€μ΄μ¤μΈμ§€λ¥Ό κ²€μ‚¬ν•λ” μ†μ„±λ§ ν¬ν•¨ν•λ©°, μ΄ μ†μ„±μ€ trueλ¥Ό λ°ν™ν•κ² ν•λ‹¤.

-   ν΄λΌμ΄μ–ΈνΈμ—μ„ νΉμ΄ μΌ€μ΄μ¤μΈμ§€λ¥Ό κ²€μ‚¬ν•λ” μ½”λ“λ¥Ό ν•¨μλ΅ μ¶”μ¶ν•λ‹¤. λ¨λ“  ν΄λΌμ΄μ–ΈνΈκ°€ κ°’μ„ μ§μ ‘ λΉ„κµν•λ” λ€μ‹  λ°©κΈ μ¶”μ¶ν• ν•¨μλ¥Ό μ‚¬μ©ν•λ„λ΅ κ³ μΉλ‹¤.

-   μ½”λ“μ— μƒλ΅μ΄ νΉμ΄ μΌ€μ΄μ¤ λ€μƒμ„ μ¶”κ°€ν•λ‹¤. ν•¨μμ λ°ν™ κ°’μΌλ΅ λ°›κ±°λ‚ λ³€ν™ ν•¨μλ¥Ό μ μ©ν•λ©΄ λλ‹¤.

-   νΉμ΄ μΌ€μ΄μ¤λ¥Ό κ²€μ‚¬ν•λ” ν•¨μ λ³Έλ¬Έμ„ μμ •ν•μ—¬ νΉμ΄ μΌ€μ΄μ¤ κ°μ²΄μ μ†μ„±μ„ μ‚¬μ©ν•λ„λ΅ ν•λ‹¤.

-   ν…μ¤νΈν•λ‹¤.

-   μ—¬λ¬ ν•¨μλ¥Ό ν΄λμ¤λ΅ λ¬¶κΈ°λ‚ μ—¬λ¬ ν•¨μλ¥Ό λ³€ν™ ν•¨μλ΅ λ¬¶κΈ°λ¥Ό μ μ©ν•μ—¬ νΉμ΄ μΌ€μ΄μ¤λ¥Ό μ²λ¦¬ν•λ” κ³µν†µ λ™μ‘μ„ μƒλ΅μ΄ μ”μ†λ΅ μ®κΈ΄λ‹¤.

-   μ•„μ§λ„ νΉμ΄ μΌ€μ΄μ¤ κ²€μ‚¬ ν•¨μλ¥Ό μ΄μ©ν•λ” κ³³μ΄ λ‚¨μ•„ μλ‹¤λ©΄ κ²€μ‚¬ ν•¨μλ¥Ό μΈλΌμΈν•λ‹¤.

## μμ‹

μ „λ ¥ νμ‚¬λ” μ „λ ¥μ΄ ν•„μ”ν• ν„μ¥μ— μΈν”„λΌλ¥Ό μ„¤μΉν•΄ μ„λΉ„μ¤λ¥Ό μ κ³µν•λ‹¤

```JavaScript
class Site{
  ...
  get customer(){return this._customer;}
  ...
}

class Customer{
  ...
  get name(){...}
  get billingPlan(){...}//μ”κΈμ 
  set billingPlan(arg){...}
  ...
  get paymentHistory(){...}//λ‚©λ¶€ μ΄λ ¥
}
```

-   λ―Έν™•μΈ κ³ κ°κ°™μ€ μƒν™©μ„ κ°μ•ν•μ—¬ Siteν΄λμ¤λ¥Ό μ‚¬μ©ν•λ” ν΄λΌμ΄μ–ΈνΈ μ½”λ“λ“¤μ€ μ•λ ¤μ§€μ§€ μ•μ€ λ―Έν™•μΈ κ³ κ°λ„ μ²λ¦¬ν•  μ μμ–΄μ•Ό ν•λ‹¤.

```JavaScript
// ν΄λΌμ΄μ–ΈνΈ 1
const aCustomer = site.customer;
//.. μλ§μ€ μ½”λ“ ...
let customerName;
if(aCustomer === "λ―Έν™•μΈ κ³ κ°") customerName = "κ±°μ£Όμ"γ…£
else customerName = aCustomer.name;


// ν΄λΌμ΄μ–ΈνΈ 2
const plan = (aCustomer === "λ―Έν™•μΈ κ³ κ°") ?
                registry.billingPlans.basic
                : aCustomer.billingPlan;


// ν΄λΌμ΄μ–ΈνΈ 3
if(aCustomer !== "λ―Έν™•μΈ κ³ κ°") aCustomer.billingPlan = newPlan;

// ν΄λΌμ΄μ–ΈνΈ 4
const weeksDelinquent = (aCustomer === "λ―Έν™•μΈ κ³ κ°") ? 0
                  : aCustomer.paymentHistory.weeksDelinquentInLastYear;
```

ν„μ¬ λ―Έν™•μΈ κ³ κ°μ„ μ²λ¦¬ν•΄μ•Ό ν•λ” ν΄λΌμ΄μ–ΈνΈκ°€ μ—¬λ¬ κ° λ°κ²¬λκ³  λ€λ¶€λ¶„μ—μ„ λ‘κ°™μ€ λ°©μ‹μΌλ΅ μ²λ¦¬ν–λ‹¤.

κ³ κ°μ΄λ¦„μΌλ΅λ” "κ±°μ£Όμ"λ¥Ό μ‚¬μ©ν•κ³ , κΈ°λ³Έμ”κΈμ λ¥Ό μ²­κµ¬ν•κ³ , μ—°μ²΄κΈ°κ°„μ€ 0μ£Όλ΅ λ¶„λ¥ν• κ²ƒμ΄λ‹¤.

νΉμ΄μΌ€μ΄μ¤μ κ²€μ‚¬μ™€ κ³µν†µλ λ°μ‘μ΄ νΉμ΄ μΌ€μ΄μ¤ κ°μ²΄λ¥Ό λ„μ…ν•  λ•μ„μ„ λ§ν•΄μ¤€λ‹¤.

-   λ¨Όμ € λ―Έν™•μΈ κ³ κ°μΈμ§€λ¥Ό λ‚νƒ€λ‚΄λ” λ©”μ„λ“λ¥Ό κ³ κ° ν΄λμ¤μ— μ¶”κ°€ν•λ‹¤.

```JavaScript
// Customer ν΄λμ¤
get isUnknown(){return false;}
```

-   κ·Έλ° λ‹¤μ λ―Έν™•μΈ κ³ κ° μ „μ© ν΄λμ¤λ¥Ό λ§λ“ λ‹¤.

```JavaScript
class UnknownCustomer{
  get isUnknown(){return true;}
}
```

-   "λ―Έν™•μΈ κ³ κ°"μ„ κΈ°λ€ν•λ” κ³³ λ¨λ‘μ— μƒλ΅ λ§λ“  νΉμ΄μΌ€μ΄μ¤ κ°μ²΄λ¥Ό λ°ν™ν•λ„λ΅ ν•κ³  μ—­μ‹ κ°’μ΄ "λ―Έν™•μΈ κ³ κ°" μΈμ§€λ¥Ό κ²€μ‚¬ν•λ” κ³³ λ¨λ‘μ—μ„ μƒλ΅μ΄ isUnknown()λ©”μ„λ“λ¥Ό μ‚¬μ©ν•λ„λ΅ κ³ μΉλ‹¤.

-   Customer ν΄λμ¤λ¥Ό μμ •ν•μ—¬ "λ―Έν™•μΈ κ³ κ°"λ¬Έμμ—΄ λ€μ‹  UnknownCustomerλ¥Ό λ°ν™ν•κ² ν•λ‹¤λ©΄ ν΄λΌμ΄μ–ΈνΈ κ°κ°μ—μ„ "λ―Έν™•μΈ κ³ κ°"μΈμ§€ ν™•μΈν•λ” μ½”λ“λ¥Ό λ¨λ‘ isUnknownλ©”μ„λ“λ΅ λ°”κΏ”μ•Ό ν•λ‹¤.

-   μ—¬λ¬ κ³³μ—μ„ λ‘κ°™μ΄ μμ •ν•΄μ•Όλ§ ν•λ” μ½”λ“λ¥Ό λ³„λ„ ν•¨μλ΅ μ¶”μ¶ν•΄μ„ ν•κ³³μΌλ΅ λ¨μΌμ.

```JavaScript
//νΉμ΄μΌ€μ΄μ¤μΈμ§€ ν™•μΈν•λ” μ½”λ“κ°€ μ¶”μ¶λ€μƒ
function isUnknown(arg){
  if(!((arg instanceof Customer)  || (arg === "λ―Έν™•μΈ κ³ κ°")))
    throw new Error(`μλ»λ κ°’κ³Ό λΉ„κµ: <${arg}>`);
  return (arg == "λ―Έν™•μΈ κ³ κ°");
}
```

μ΄μ  μ΄ isUnknownν•¨μλ¥Ό μ΄μ©ν•΄ λ―Έν™•μΈ κ³ κ°μΈμ§€λ¥Ό ν™•μΈν•  μ μλ‹¤. μ΄ λ³€κ²½μ„ ν•λ‚μ”©λ§ μ μ©ν•κ³  ν…μ¤νΈν•΄λ³΄μ.

```JavaScript
// ν΄λΌμ΄μ–ΈνΈ 1
let customerName;
if(isUnknown(customerName)) customerName = "κ±°μ£Όμ"γ…£
else customerName = aCustomer.name;


// ν΄λΌμ΄μ–ΈνΈ 2
const plan = (isUnknown(aCustomer)) ?
                registry.billingPlans.basic
                : aCustomer.billingPlan;


// ν΄λΌμ΄μ–ΈνΈ 3
if(!isUnknown(aCustomer)) aCustomer.billingPlan = newPlan;

// ν΄λΌμ΄μ–ΈνΈ 4
const weeksDelinquent = isUnknown(aCustomer) ? 0
                  : aCustomer.paymentHistory.weeksDelinquentInLastYear;
```

-   μ΄μ  νΉμ΄μΌ€μ΄μ¤μΌλ• Siteν΄λμ¤κ°€ UnknownCustomer κ°μ²΄λ¥Ό λ°ν™ν•λ„λ΅ μμ •ν•μ.

```JavaScript
class Site{
  get customer(){
    return (this._customer === "λ―Έν™•μΈ κ³ κ°") ? new UnknownCustomer() : this._customer;
  }
}
```

-   isUnknown ν•¨μλ¥Ό μμ •ν•μ—¬ κ³ κ° κ°μ²΄μ μ†μ„±μ„ μ‚¬μ©ν•λ„λ΅ ν•λ©΄ "λ―Έν™•μΈ κ³ κ°"λ¬Έμμ—΄μ„ μ‚¬μ©ν•λ μ½”λ“λ” μ™„μ „ν μ‚¬λΌμ§„λ‹¤.

```JavaScript
function isUnknown(arg){
  if(!(arg instanceof Customer || arg instanceof UnknownCustomer))
    throw new Error(`μλ»λ κ°’κ³Ό λΉ„κµ : <${arg}>`);
  return arg.isUnknown;
}
```

-   λ¨λ“  κΈ°λ¥μ΄ μ λ™μ‘ν•λ”μ§€ ν…μ¤νΈ ν•λ‹¤.
-   κ° ν΄λΌμ΄μ–ΈνΈμ—μ„ μν–‰ν•λ” νΉμ΄ μΌ€μ΄μ¤ κ²€μ‚¬λ¥Ό μΌλ°μ μΈ κΈ°λ³Έκ°’μΌλ΅ λ€μ²΄ν•  μ μλ‹¤λ©΄ μ΄ κ²€μ‚¬ μ½”λ“μ— μ—¬λ¬ ν•¨μλ¥Ό ν΄λμ¤λ΅ λ¬¶κΈ°λ¥Ό μ μ©ν•  μ μλ‹¤.
-   μ§€κΈ μμ—μ„λ” λ―Έν™•μΈ κ³ κ°μ μ΄λ¦„μΌλ΅ "κ±°μ£Όμ"λ¥Ό μ‚¬μ©ν•λ” μ½”λ“κ°€ λ§λ‹¤. λ‹¤μ μ½”λ“μ²λΌ

```JavaScript
// ν΄λΌμ΄μ–ΈνΈ1
let customerName;
if(isUnknown(aCustomer)) customerName = "κ±°μ£Όμ";
else customerName = aCustomer.name;
```

λ‹¤μκ³Ό κ°™μ΄ μ μ ν• λ©”μ„λ“λ¥Ό UnknownCustomer ν΄λμ¤λ¥Ό μ¶”κ°€ν•μ.

```JavaScript
//UnknownCustomer ν΄λμ¤..
get name() {return "κ±°μ£Όμ";}
```

-   μ΄μ  μ΅°κ±΄λ¶€ μ½”λ“λ” μ§€μ›λ„ λλ‹¤.

```JavaScript
//ν΄λΌμ΄μ–ΈνΈ 1
const customerName = aCustomer.name;
```

-   ν…μ¤νΈν•λ‹¤.

-   μ΄μ  μ”κΈμ  μ†μ„± μ°¨λ΅€λ‹¤.

```JavaScript
// ν΄λΌμ΄μ–ΈνΈ2
cons plan = (isUnknown(aCustomer)) ? registry.billingPlan.basic : aCustomer.billingPlan;

// ν΄λΌμ΄μ–ΈνΈ3
if(!isUnknown(aCustomer)) aCustomer.billingPlan = newPlan;
```

μ”κΈμ  μ†μ„±μ„ μ½λ” λ™μ‘μ€ μ•μ„ μ΄λ¦„ μ†μ„±μ„ μ²λ¦¬ν• κ³Όμ •μ„ κ·Έλ€λ΅ λ°λ³µν•  κ²ƒμ΄λ‹¤. μ¦‰ μΌλ°μ μΈ κΈ°λ³Έκ°’μ„ λ°ν™ν•λ‹¤. μ“°λ” λ™μ‘μ€ μ΅°κΈ λ‹¤λ¥΄λ‹¤. ν„μ¬ μ½”λ“μ—μ„λ” λ―Έν™•μΈ κ³ κ°μ— λ€ν•΄μ„λ” μ„Έν„°λ¥Ό νΈμ¶ν•μ§€ μ•λ”λ‹¤.

ν•μ§€λ§ κ²‰λ³΄κΈ° λ™μ‘μ„ λ‘κ°™μ΄ λ§λ“¤μ–΄μ•Ό ν•λ―€λ΅ νΉμ΄ μΌ€μ΄μ¤μ—μ„λ„ μ„Έν„°κ°€ νΈμ¶λλ„λ΅ ν•λ, μ„Έν„°μ—μ„λ” μ•„λ¬΄λ° μΌλ„ ν•μ§€ μ•λ”λ‹¤.

```JavaScript
//UnknownCustomerν΄λμ¤
  get billingPlan() {return registry.billingPlans.basic;}
  set billingPlan(arg){/* λ¬΄μ‹ν•λ‹¤. */}

// ν΄λΌμ΄μ–ΈνΈ(μ½λ” κ²½μ°)
const plan = aCustomer.billingPlan;

// ν΄λΌμ΄μ–ΈνΈ(μ“°λ” κ²½μ°)
aCustomer.billingPlan = newPlan;
```

νΉμ΄μΌ€μ΄μ¤λ” κ°’ κ°μ²΄λ‹¤. λ”°λΌμ„ ν•­μƒ λ¶λ³€μ΄μ–΄μ•Ό ν•λ‹¤.

λ§μ§€λ§‰ μƒν™©μ€ μΆ€ λ” λ³µμ΅ν•λ‹¤. νΉμ΄ μΌ€μ΄μ¤κ°€ μμ‹ λ§μ μ†μ„±μ„ κ°–λ” λ λ‹¤λ¥Έ κ°μ²΄(μ§€λ¶ μ΄λ ¥)λ¥Ό λ°ν™ν•΄μ•Ό ν•κΈ° λ•λ¬Έμ΄λ‹¤.

```JavaScript
const weeksDelinquent = isUnknown(aCustomer) ? 0 : aCustomer.paymentHistory.weeksDelinquentInLastYear;
```

-   νΉμ΄ μΌ€μ΄μ¤κ°€ λ‹¤λ¥Έ κ°μ²΄λ¥Ό λ°ν™ν•΄μ•Ό ν•λ‹¤λ©΄ κ·Έ κ°μ²΄μ—­μ‹ νΉμ΄ μΌ€μ΄μ¤μ—¬μ•Ό ν•λ” κ²ƒμ΄ μΌλ°μ μ΄λ‹¤.
-   κ·Έλμ„ NullPaymentHistoryλ¥Ό λ§λ“¤κΈ°λ΅ ν–λ‹¤.

```JavaScript
//UnknownCustomer ν΄λμ¤
get paymentHistory(){return new NullPaymentHistory();}

//NullPaymentHistory ν΄λμ¤
get weeksDelinquentInLastYear(){return 0;}

//ν΄λΌμ΄μ–ΈνΈ
const weeksDelinquent = aCustomer.paymentHistory.weeksDelinquentInLastYear;
```

-   κ³„μ†ν•΄μ„ λ¨λ“  ν΄λΌμ΄μ–ΈνΈ μ½”λ“λ¥Ό μ΄ λ‹¤ν•μ  ν–‰μ„λ΅ λ€μ²΄ν•  μ μλ”μ§€λ¥Ό μ‚΄ν΄λ³Έλ‹¤. μμ™Έκ°€ μμ„ μ μκΈ° λ•λ¬Έ

```JavaScript
// ν€λ” ν΄λΌμ΄μ–ΈνΈ
const name = !isUnknown(aCustomer) ? aCustomer.name : "λ―Έν™•μΈ κ±°μ£Όμ";
```

μ΄λ° κ²½μ°μ—” μ›λ νΉμ΄ μΌ€μ΄μ¤ κ²€μ‚¬ μ½”λ“λ¥Ό μ μ§€ν•΄μ•Ό ν•λ‹¤. μ΄μ½”λ“λ” Customerμ— μ„ μ–Έλ λ©”μ„λ“λ¥Ό μ‚¬μ©ν•λ„λ΅ μμ •ν•λ©΄ λλ”λ°, κµ¬μ²΄μ μΌλ΅λ” isUnknownν•¨μλ¥Ό μΈλΌμΈν•λ©΄ λλ‹¤.

```JavaScript
// ν€λ” ν΄λΌμ΄μ–ΈνΈ
const name = aCustomer.isUnknown ? "λ―Έν™•μΈ κ±°μ£Όμ" : aCustomer.name;
```

λ¨λ“  ν΄λΌμ΄μ–ΈνΈλ¥Ό μμ •ν–λ‹¤λ©΄ νΈμ¶ν•λ” κ³³μ΄ μ—†μ–΄μ§„ μ „μ—­ isUnknown()ν•¨μλ¥Ό μ£½μ€ μ½”λ“ μ κ±°ν•κΈ°λ΅ μ—†μ• μ¤€λ‹¤.

## μμ‹: κ°μ²΄ λ¦¬ν„°λ΄ μ΄μ©ν•κΈ°

μ•μ μμ²λΌ μ •λ§ λ‹¨μν• κ°’μ„ μ„ν•΄ ν΄λμ¤κΉμ§€ λ™μ›ν•λ” κ±΄ μΆ€ κ³Όν• κ°μ΄ μλ‹¤. ν•μ§€λ§ κ³ κ°μ •λ³΄κ°€ κ°±μ‹ λ  μ μμ–΄μ„ ν΄λμ¤κ°€ κΌ­ ν•„μ”ν–λ‹¤.

ν•νΈ λ°μ΄ν„° κµ¬μ΅°λ¥Ό μ½κΈ°λ§ ν•λ‹¤λ©΄ ν΄λμ¤ λ€μ‹  λ¦¬ν„°λ΄ κ°μ²΄λ¥Ό μ‚¬μ©ν•΄λ„ λλ‹¤.

```JavaScript
// Site ν΄λμ¤
get customer(){return this._customer;}

//Customer ν΄λμ¤
get name(){...}
get billingPlan(){...}
set billingPlan(arg){...}
get paymentHistory(){...}

//ν΄λΌμ΄μ–ΈνΈ 1
const aCustomer = site.customer;
let customerName;
if(aCustomer === "λ―Έν™•μΈ κ³ κ°") customerName = "κ±°μ£Όμ";
else customerName = aCustomer.name;

//ν΄λΌμ΄μ–ΈνΈ2
const plan = (aCustomer === "λ―Έν™•μΈ κ³ κ°") ?
              registry.billingPlans.basic : aCustomer.billingPlan;

//ν΄λΌμ΄μ–ΈνΈ3
const weeksDelinquent = (aCustomer == "λ―Έν™•μΈ κ³ κ°") ? 0 : aCustomer.paymentHistory.weeksDelinquentInLastYear;
```

-   μ•μ μμ™€ κ°™μ΄, λ¨Όμ € κ³ κ°μ— isUnknown()μ†μ„±μ„ μ¶”κ°€ν•κ³ 
-   μ΄ ν•„λ“λ¥Ό ν¬ν•¨ν•λ” νΉμ΄ μΌ€μ΄μ¤ κ°μ²΄λ¥Ό μƒμ„±ν•λ‹¤. μ°¨μ΄μ μ΄λΌλ©΄ μ΄λ²μ—λ” νΉμ΄μΌ€μ΄μ¤κ°€ λ¦¬ν„°λ΄μ΄λ‹¤.

```JavaScript
//Customer ν΄λμ¤
get isUnknown(){return false;}

//μµμƒμ„
function createUnknownCustomer(){
  return {
    isUnknown: true,
  };
}
```

-   νΉμ΄ μΌ€μ΄μ¤ μ΅°κ±΄ κ²€μ‚¬ λ¶€λ¶„μ„ ν•¨μλ΅ μ¶”μ¶ν•λ‹¤.

```JavaScript
function isUnknown(arg){
  return (arg === "λ―Έν™•μΈ κ³ κ°");
}

// ν΄λΌμ΄μ–ΈνΈ 1
let customerName;
if(isUnknown(aCustomer)) customerName = "κ±°μ£Όμ";
else customerName = aCustomer.name;

//ν΄λΌμ΄μ–ΈνΈ 2
const plan = isUnknown(aCustomer) ? registry.billingPlans.basic
                : aCustomer.billingPlan;

//ν΄λΌμ΄μ–ΈνΈ 3
const weeksDelinquent = isUnknown(aCustomer) ? 0
                : aCustomer.NullPaymentHistory.weeksDelinquentInLastYear;
```

-   μ΅°κ±΄μ„ κ²€μ‚¬ν•λ” μ½”λ“μ™€ Site ν΄λμ¤μ—μ„ μ΄ νΉμ΄ μΌ€μ΄μ¤λ¥Ό μ΄μ©ν•λ„λ΅ μμ •ν•λ‹¤.

```JavaScript
// Site ν΄λμ¤
get customer(){
  return (this._customer === "λ―Έν™•μΈ κ³ κ°") ? createUnknownCustomer() : this._customer;
}

//μµμƒμ„
function isUnknown(arg){
  return arg.isUnknown;
}
```

-   λ‹¤μμΌλ΅, κ°κ°μ ν‘μ¤€ μ‘λ‹µμΌ μ μ ν• λ¦¬ν„°λ΄ κ°’μΌλ΅ λ€μ²΄ν•λ‹¤.

```JavaScript
function createUnknownCustomer(){
  return {
    isUnknown: true,
    name: "κ±°μ£Όμ",
  }
}

//ν΄λΌμ΄μ–ΈνΈ 1..
const customerName = aCustomer.name;
```

-   λ‹¤μμ€ μ”κΈμ  μ°¨λ΅€λ‹¤.

```JavaScript
function createUnknownCustomer(){
  return {
    isUnknown: true,
    name: "κ±°μ£Όμ",
    billingPlan: registry.billingPlans.basic,
  };
}

// ν΄λΌμ΄μ–ΈνΈ 2
const plan = aCustomer.billingPlan;
```

-   λΉ„μ·ν• λ°©λ²•μΌλ΅ λ‚©λ¶€ μ΄λ ¥μ΄ μ—†λ‹¤λ” μ •λ³΄λ” μ¤‘μ²© λ¦¬ν„°λ΄λ΅ μƒμ„±ν•λ‹¤.

```JavaScript
function createUnknownCustomer(){
  return {
    isUnknown: true,
    name: "κ±°μ£Όμ",
    billingPlan: registry.billingPlans.basic,
    paymentHistory: {
      weeksDelinquentInLastYear: 0,
    }
  }
}

//ν΄λΌμ΄μ–ΈνΈ 3
const weeksDelinquent = aCustomer.paymentHistory.weeksDelinquentInLastYear;
```

λ¦¬ν„°λ΄μ„ μ΄λ° μ‹μΌλ΅ μ‚¬μ©ν•λ ¤λ©΄ λ¶λ³€μΌλ΅ λ§λ“¤μ–΄μ•Ό ν•λ‹¤.

## μμ‹: λ³€ν™ ν•¨μ μ΄μ©ν•κΈ°

μ•μ λ‘ μλ” ν΄λμ¤μ™€ κ΄€λ ¨ μμ§€λ§, λ³€ν™ λ‹¨κ³„λ¥Ό μ¶”κ°€ν•λ©΄ κ°™μ€ μ•„μ΄λ””μ–΄λ¥Ό λ μ½”λ“μ—μ„ μ μ©ν•  μ μλ‹¤.

```JSON
//μ…λ ¥μ΄ λ‹¨μν• JSONλ μ½”λ“ κµ¬μ΅°
{
  name: "μ• ν¬λ―Έ λ³΄μ¤ν„΄",
  location: "Malden MA",
  //...
  customer: {
    name: "μ• ν¬λ―Έ μ‚°μ—…",
    billingPlan: "plan-451",
    paymentHistory: {
      weeksDelinquentInLastYear: 7
      //μƒλµ
    }
    //μƒλµ
  }
}
```

-   κ³ κ°μ΄ μ•λ ¤μ§€μ§€ μ•μ€ κ²½μ°λ„ μμ„ν…λ° μ•μ—μ„ μ²λΌ "λ―Έν™•μΈ κ³ κ°"μΌλ΅ ν‘μ‹ν•μ.

```JSON
{
  name: "λ¬Όλ¥ μ°½κ³  15",
  location: "Malden MA",
  ...
  customer: "λ―Έν™•μΈ κ³ κ°",
}
```

-   μ•μ—μ„μ™€μ λ§μ°¬κ°€μ§€λ΅ λ―Έν™•μΈ κ³ κ°μΈμ§€λ¥Ό κ²€μ‚¬ν•λ” ν΄λΌμ΄μ–ΈνΈ μ½”λ“λ“¤μ΄ μλ‹¤.

```JavaScript
// ν΄λΌμ΄μ–ΈνΈ 1
const aCustomer = acquireSiteData();
//.. μλ§μ€ μ½”λ“ ...
let customerName;
if(aCustomer === "λ―Έν™•μΈ κ³ κ°") customerName = "κ±°μ£Όμ"γ…£
else customerName = aCustomer.name;


// ν΄λΌμ΄μ–ΈνΈ 2
const plan = (aCustomer === "λ―Έν™•μΈ κ³ κ°") ?
                registry.billingPlans.basic
                : aCustomer.billingPlan;


// ν΄λΌμ΄μ–ΈνΈ 3
if(aCustomer !== "λ―Έν™•μΈ κ³ κ°") aCustomer.billingPlan = newPlan;

// ν΄λΌμ΄μ–ΈνΈ 4
const weeksDelinquent = (aCustomer === "λ―Έν™•μΈ κ³ κ°") ? 0
                  : aCustomer.paymentHistory.weeksDelinquentInLastYear;
```

μ²μ ν•  μΌμ€ ν„μ¥ λ°μ΄ν„° κµ¬μ΅°λ¥Ό λ³€ν™ ν•¨μμΈ enrichSite()μ— ν†µκ³Όμ‹ν‚¤λ” κ²ƒ ν„μ¬λ” νΉλ³„ν• μ‘μ—…μ—†μ΄ κΉμ€ λ³µμ‚¬λ§ μν–‰ν•λ‹¤.

```JavaScript
//ν΄λΌμ΄μ–ΈνΈ 1
const rawSite = acquireSiteData();
const site = enrichSite(rawSite);
const aCustomer = site.customer;
//... μλ§μ€ μ½”λ“λ“¤...
let customerName;
if(aCustomer === "λ―Έν™•μΈ κ³ κ°") customerName = "κ±°μ£Όμ"γ…£
else customerName = aCustomer.name;

function enrichSite(inputSite){
  return _.cloneDeep(inputSite);
}
```

-   μ•λ ¤μ§€μ§€ μ•μ€ κ³ κ°μΈμ§€ κ²€μ‚¬ν•λ” λ΅μ§μ„ ν•¨μλ΅ μ¶”μ¶ν•λ‹¤.

```JavaScript
function isUnknown(aCustomer){
  return aCustomer === "λ―Έν™•μΈ κ³ κ°";
}

//ν΄λΌμ΄μ–ΈνΈ1
const rawSite = acquireSiteData();
const site = enrichSite(rawSite);
const aCustomer = site.customer;
//.. μλ§μ€ μ½”λ“ ...
let customerName;
if(isUnknown(aCustomer)) customerName = "κ±°μ£Όμ";
else customerName = aCustomer.name;

//ν΄λΌμ΄μ–ΈνΈ 2
const plan = (isUnknown(aCustomer)) ? registry.billingPlans.basic
                        : aCustomer.billingPlan;

//ν΄λΌμ΄μ–ΈνΈ 3
const weeksDelinquent = (isUnknown(aCustomer)) ? 0
                          : aCustomer.paymentHistory.weeksDelinquentInLastYear;
```

-   κ³ κ° λ μ½”λ“μ— isUnknown()μ†μ„±μ„ μ¶”κ°€ν•μ—¬ ν„μ¥ μ •λ³΄λ¥Ό λ³΄κ°•ν•λ‹¤.

```JavaScript
function enrichSite(aSite){
  const result = _.cloneDeep(site);
  const unknownCustomer = {
    isUnknown: true,
  };

  if(isUnknown(result.customer)) result.customer = unknownCustomer;
  else result.customer.isUnknown = false;
  return result;
}
```

-   κ·Έλ° λ‹¤μ νΉμ΄ μΌ€μ΄μ¤ κ²€μ‚¬ μ‹ μƒλ΅μ΄ μ†μ„±μ„ μ΄μ©ν•λ„λ΅ μμ •ν•λ‹¤.
-   μ›λμ κ²€μ‚¬λ„ μ μ§€ν•μ—¬ μ…λ ¥μ΄ μ›λμ rawSiteλ“  λ³΄κ°•(λ³€ν™)λ siteλ“  μƒκ΄€μ—†μ΄ ν…μ¤νΈκ°€ λ™μ‘ν•λ„λ΅ ν•΄μ¤€λ‹¤.

```JavaScript
function isUnknown(aCustomer){
  if(aCustomer === 'λ―Έν™•μΈ κ³ κ°') return true;
  else return aCustomer.isUnknown;
}
```

-   λ¨λ“  κΈ°λ¥μ΄ μ •μƒ λ™μ‘ν•λ”μ§€ ν…μ¤νΈν• λ‹¤μ
-   νΉμ΄ μΌ€μ΄μ¤μ— μ—¬λ¬ ν•¨μλ¥Ό λ³€ν™ ν•¨μλ΅ λ¬¶κΈ°λ¥Ό μ μ©ν•λ‹¤.
-   λ¨Όμ € μ΄λ¦„ μ„ νƒ λ¶€λ¶„μ„ enrichSite()ν•¨μλ΅ μ®κΈ΄λ‹¤.
-   ν…μ¤νΈ ν•κ³  μ”κΈμ  ν…μ¤νΈν›„ λ§μ§€λ§‰ ν΄λΌμ΄μ–ΈνΈκΉμ§€ μμ •ν•λ‹¤.

```JavaScript
function enrichSite(aSite){
  const result = _.cloneDeep(site);
  const unknownCustomer = {
    isUnknown: true,
    name: "κ±°μ£Όμ",
    billingPlan: registry.billingPlans.basic,
    paymentHistory: {
      weeksDelinquentInLastYear: 0,
    }
  };

  if(isUnknown(result.customer)) result.customer = unknownCustomer;
  else result.customer.isUnknown = false;
  return result;
}
```

```JavaScript
//ν΄λΌμ΄μ–ΈνΈ1
const rawSite = acquireSiteData();
const site = enrichSite(rawSite);
const aCustomer = site.customer;
//.. μλ§μ€ μ½”λ“ ...
const customerName = aCustomer.name;


//ν΄λΌμ΄μ–ΈνΈ 2
const plan = aCustomer.billingPlan;

//ν΄λΌμ΄μ–ΈνΈ 3
const weeksDelinquent = aCustomer.paymentHistory.weeksDelinquentInLastYear;
```
