# ì¡°ê±´ë¶€ ë¡œì§ì„ ë‹¤í˜•ì„±ìœ¼ë¡œ ë°”ê¾¸ê¸°

```JavaScript
switch(bird.type){
  case 'ìœ ëŸ½ ì œë¹„' :
    return "ë³´í†µì´ë‹¤";
  case 'ì•„í”„ë¦¬ì¹´ ì œë¹„':
    return (bird.numberOfCoconuts > 2) ? "ì§€ì³¤ë‹¤" : "ë³´í†µì´ë‹¤";
  case 'ë…¸ë¥´ì›¨ì´ íŒŒë‘ ì•µë¬´':
    return (bird.voltage > 100) ? "ê·¸ì„ë ¸ë‹¤" : "ì˜ˆì˜ë‹¤";
  default:
    return "ì•Œ ìˆ˜ ì—†ë‹¤";

}
```

<center>ğŸ”½</center>

```JavaScript
class EuropeanSwallow{
  get plumage(){
    return "ë³´í†µì´ë‹¤";
  }
}

class AfricanSwallow{
  get plumage(){
    return (bird.numberOfCoconuts > 2) ? "ì§€ì³¤ë‹¤" : "ë³´í†µì´ë‹¤";
  }
}


class NorwegianBlueParrot{
  get plumage(){
    return (bird.voltage > 100) ? "ê·¸ì„ë ¸ë‹¤" : "ì˜ˆì˜ë‹¤";
  }
}
```

## ë°°ê²½

ë³µì¡í•œ ì¡°ê±´ë¶€ ë¡œì§ì€ í”„ë¡œê·¸ë˜ë°ì—ì„œ í•´ì„í•˜ê¸° ê°€ì¥ ë‚œí•´í•œ ëŒ€ìƒì— ì†í•œë‹¤. ì¢…ì¢… ë” ë†’ì€ ìˆ˜ì¤€ì˜ ê°œë…(ì¶”ìƒí™”)ë¥¼ ë„ì…í•´ ì´ ì¡°ê±´ë“¤ì„ ë¶„ë¦¬í•´ ë‚¼ ìˆ˜ ìˆë‹¤.

ì¡°ê±´ë¬¸ êµ¬ì¡°ë¥¼ ê·¸ëŒ€ë¡œ ë‘” ì±„ í•´ê²°ë  ë•Œë„ ìˆì§€ë§Œ, í´ë˜ìŠ¤ì™€ ë‹¤í˜•ì„±ì„ ì´ìš©í•˜ë©´ ë” í™•ì‹¤í•˜ê²Œ ë¶„ë¦¬í•  ìˆ˜ë„ìˆë‹¤.

case ë³„ë¡œ í´ë˜ìŠ¤ë¥¼ í•˜ë‚˜ì”© ë§Œë“¤ì–´ ê³µí†µ switchë¡œì§ì˜ ì¤‘ë³µì„ ì—†ì•¨ ìˆ˜ ìˆë‹¤. ë‹¤í˜•ì„±ì„ í™œìš©í•˜ì—¬ ì–´ë–»ê²Œ ë™ì‘í• ì§€ë¥¼ ê° íƒ€ì…ì´ ì•Œì•„ì„œ ì²˜ë¦¬í•˜ë„ë¡ í•˜ë©´ ëœë‹¤.

ë˜ ë‹¤ë¥¸ ì˜ˆë¡œ, ê¸°ë³¸ ë™ì‘ì„ ìœ„í•œ caseë¬¸ê³¼ ê·¸ ë³€í˜• ë™ì‘ìœ¼ë¡œ êµ¬ì„±ëœ ë¡œì§ì„ ë– ì˜¬ë¦´ ìˆ˜ ìˆë‹¤.

ë¨¼ì € ì´ ë¡œì§ì„ ìŠˆí¼í´ë˜ìŠ¤ë¡œ ë„£ì–´ì„œ ë³€í˜• ë™ì‘ì— ì‹ ê²½ì“°ì§€ ì•Šê³  ê¸°ë³¸ì— ì§‘ì¤‘í•˜ê²Œ í•œë‹¤. ê·¸ëŸ° ë‹¤ìŒ ë³€í˜• ë™ì‘ì„ ëœ»í•˜ëŠ” caseë“¤ì„ ê°ê°ì˜ ì„œë¸Œ í´ë˜ìŠ¤ë¡œ ë§Œë“ ë‹¤. (ì´ ì„œë¸Œí´ë˜ìŠ¤ë“¤ì€ ê¸°ë³¸ ë™ì‘ê³¼ì˜ ì°¨ì´ë¥¼ í‘œí˜„í•˜ëŠ” ì½”ë“œë¡œ ì±„ì›Œì§ˆ ê²ƒì´ë‹¤.)

ë‹¤í˜•ì„±ì€ ê°ì²´ ì§€í–¥ í”„ë¡œê·¸ë˜ë°ì˜ í•µì‹¬ì´ë‹¤. í•˜ì§€ë§Œ (ìœ ìš©í•œ ê¸°ëŠ¥ë“¤ì´ ëŠ˜ ê·¸ë ‡ë“¯) ë‚¨ìš©í•˜ê¸° ì‰½ë‹¤.

## ì ˆì°¨

-   ë‹¤í˜•ì„± ë™ì‘ì„ í‘œí˜„í•˜ëŠ” í´ë˜ìŠ¤ë“¤ì´ ì•„ì§ ì—†ë‹¤ë©´ ë§Œë“¤ì–´ ì¤€ë‹¤. ì´ì™•ì´ë©´ ì í•©í•œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì•Œì•„ì„œ ë§Œë“¤ì–´ ë°˜í™˜í•˜ëŠ” íŒ©í„°ë¦¬ í•¨ìˆ˜ë„ í•¨ê»˜ ë§Œë“ ë‹¤.

-   í˜¸ì¶œí•˜ëŠ” ì½”ë“œì—ì„œ íŒ©í„°ë¦¬ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê²Œ í•œë‹¤.

-   ì¡°ê±´ë¶€ ë¡œì§ í•¨ìˆ˜ë¥¼ ìŠˆí¼ í´ë˜ìŠ¤ë¡œ ì˜®ê¸´ë‹¤.

-   ì„œë¸Œí´ë˜ìŠ¤ ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•œë‹¤. ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ ìŠˆí¼í´ë˜ìŠ¤ì˜ ì¡°ê±´ë¶€ ë¡œì§ ë©”ì„œë“œë¥¼ ì˜¤ëŸ¬ë°”ì´ë“œí•œë‹¤. ì¡°ê±´ë¶€ ë¬¸ì¥ ì¤‘ ì„ íƒëœ ì„œë¸Œí´ë˜ìŠ¤ì— í•´ë‹¹í•˜ëŠ” ì¡°ê±´ì ˆì„ ì„œë¸Œí´ë˜ìŠ¤ ë©”ì„œë“œë¡œ ë³µì‚¬í•œ ë‹¤ìŒ ì ì ˆíˆ ìˆ˜ì •í•œë‹¤.

-   ê°™ì€ ë°©ì‹ìœ¼ë¡œ ê° ì¡°ê±´ì ˆì„ í•´ë‹¹ ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ ë©”ì„œë“œë¡œ êµ¬í˜„í•œë‹¤.

-   ìŠˆí¼í´ë˜ìŠ¤ ë©”ì„œë“œì—ì„œ ê¸°ë³¸ ë™ì‘ ë¶€ë¶„ë§Œ ë‚¨ê¸´ë‹¤. í˜¹ì€ ìŠˆí¼í´ë˜ìŠ¤ê°€ ì¶”ìƒ í´ë˜ìŠ¤ì—¬ì•¼ í•œë‹¤ë©´ ì´ ë©”ì„œë“œë¥¼ ì¶”ìƒìœ¼ë¡œ ì„ ì–¸í•˜ê±°ë‚˜ ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ ì²˜ë¦¬í•´ì•¼ í•¨ì„ ì•Œë¦¬ëŠ” ì—ëŸ¬ë¥¼ ë˜ì§„ë‹¤.

## ì˜ˆì‹œ

ìƒˆë¥¼ í‚¤ìš°ëŠ” ì¹œêµ¬ê°€ ìˆëŠ”ë° ìƒˆì˜ ì¢…ì— ë”°ë¥¸ ë¹„í–‰ ì†ë„ì™€ ê¹ƒí„¸ ìƒíƒœë¥¼ ì•Œê³  ì‹¶ì–´ í•œë‹¤.

```JavaScript
function plumages(birds){
  return new Map(birds.map(b => [b.name, plumage(b)]));
}

function speeds(birds){
  return new Map(birds.map(b => [b.name, airSpeedVelocity(b)]));
}

function plumage(bird){ // ê¹ƒí„¸ ìƒíƒœ
  switch(bird.type){
    case 'ìœ ëŸ½ ì œë¹„' :
      return "ë³´í†µì´ë‹¤";
    case 'ì•„í”„ë¦¬ì¹´ ì œë¹„':
      return (bird.numberOfCoconuts > 2) ? "ì§€ì³¤ë‹¤" : "ë³´í†µì´ë‹¤";
    case 'ë…¸ë¥´ì›¨ì´ íŒŒë‘ ì•µë¬´':
      return (bird.voltage > 100) ? "ê·¸ì„ë ¸ë‹¤" : "ì˜ˆì˜ë‹¤";
    default:
      return "ì•Œ ìˆ˜ ì—†ë‹¤";
  }
}

function airSpeedVelocity(bird){ // ë¹„í–‰ì†ë„
  switch(bird.type){
    case 'ìœ ëŸ½ ì œë¹„' :
      return 35;
    case 'ì•„í”„ë¦¬ì¹´ ì œë¹„':
      return 40 - 2 * bird.numberOfCoconuts;
    case 'ë…¸ë¥´ì›¨ì´ íŒŒë‘ ì•µë¬´':
      return (bird.isNailed) ? 0 : 10 + bird.voltage / 10;
    default:
      return null;
  }
}

```

-   ìƒˆ ì¢…ë¥˜ì— ë”°ë¼ ë‹¤ë¥´ê²Œ ë™ì‘í•˜ëŠ” í•¨ìˆ˜ê°€ ëª‡ ê°œ ë³´ì´ë‹ˆ ì¢…ë¥˜ë³„ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ì„œ ê°ê°ì— ë§ëŠ” ë™ì‘ì„ í‘œí˜„í•˜ë©´ ì¢‹ì„ ê²ƒ ê°™ë‹¤.

-   airSpeedVelocity() ì™€ plumage()ë¥¼ Birdë¼ëŠ” í´ë˜ìŠ¤ë¡œ ë¬¶ì.

```JavaScript
function plumage(bird){
  return new Bird(bird).plumage
}

function airSpeedVelocity(bird){
  return new Bird(bird).airSpeedVelocity;
}
class Bird{
  constructor(birdObject) {
    Object.assign(this, birdObject);
  }
  get plumage(){
    switch(this.type){
      case 'ìœ ëŸ½ ì œë¹„' :
        return "ë³´í†µì´ë‹¤";
      case 'ì•„í”„ë¦¬ì¹´ ì œë¹„':
        return (this.numberOfCoconuts > 2) ? "ì§€ì³¤ë‹¤" : "ë³´í†µì´ë‹¤";
      case 'ë…¸ë¥´ì›¨ì´ íŒŒë‘ ì•µë¬´':
        return (this.voltage > 100) ? "ê·¸ì„ë ¸ë‹¤" : "ì˜ˆì˜ë‹¤";
      default:
        return "ì•Œ ìˆ˜ ì—†ë‹¤";
    }
  }

  get airSpeedVelocity(){
    switch(this.type){
      case 'ìœ ëŸ½ ì œë¹„' :
        return 35;
      case 'ì•„í”„ë¦¬ì¹´ ì œë¹„':
        return 40 - 2 * this.numberOfCoconuts;
      case 'ë…¸ë¥´ì›¨ì´ íŒŒë‘ ì•µë¬´':
        return (this.isNailed) ? 0 : 10 + this.voltage / 10;
      default:
        return null;
    }
  }
}
```

-   ì´ì œ ì¢…ë³„ ì„œë¸Œí´ë˜ìŠ¤ë¥¼ ë§Œë“ ë‹¤. ì í•©í•œ ì„œë¸Œí´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ì–´ì¤„ íŒ©í„°ë¦¬ í•¨ìˆ˜ë„ ìŠì§€ ë§ì.

-   ê·¸ë¦¬ê³  ë‚˜ì„œ ê°ì²´ë¥¼ ì–»ì„ ë•Œ íŒ©í„°ë¦¬ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë„ë¡ ìˆ˜ì •í•œë‹¤.

```JavaScript
function plumage(bird){
  return create(bird).plumage;
}

function airSpeedVelocity(bird){
  return createBird(bird).airSpeedVelocity;
}

function createBird(bird){
  switch(bird.type){
    case 'ìœ ëŸ½ ì œë¹„':
      return new EuropeanSwallow(bird);
    case 'ì•„í”„ë¦¬ì¹´ ì œë¹„':
      return new AfricanSwallow(bird);
    case 'ë…¸ë¥´ì›¨ì´ íŒŒë‘ ì•µë¬´':
      return new NorwegianBlueParrot(bird);
    default :
      return new Bird(bird);
  }
}

class EuropeanSwallow extends Bird{
}
class AfricanSwallow extends Bird{
}
class NorwegianBlueParrot extends Bird{
}

```

í•„ìš”í•œ í´ë˜ìŠ¤ êµ¬ì¡°ê°€ ì¤€ë¹„ë˜ì—ˆìœ¼ë‹ˆ ë‘ ì¡°ê±´ë¶€ ë©”ì„œë“œë¥¼ ì²˜ë¦¬í•  ì°¨ë¡€ë‹¤. plumage()

-   switchë¬¸ì˜ ì ˆ í•˜ë‚˜ë¥¼ ì„ íƒí•´ í•´ë‹¹ ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ ì˜¤ë²„ë¼ì´ë“œí•œë‹¤.

```JavaScript
class EuropeanSwallow extends Bird{
  get plumage(){
    return "ë³´í†µì´ë‹¤";
  }
}

class Bird{
  get plumage(){
    switch(this.type){
      case 'ìœ ëŸ½ ì œë¹„' :
        throw 'ì˜¤ë¥˜ ë°œìƒ';
      case 'ì•„í”„ë¦¬ì¹´ ì œë¹„':
        return (this.numberOfCoconuts > 2) ? "ì§€ì³¤ë‹¤" : "ë³´í†µì´ë‹¤";
      case 'ë…¸ë¥´ì›¨ì´ íŒŒë‘ ì•µë¬´':
        return (this.voltage > 100) ? "ê·¸ì„ë ¸ë‹¤" : "ì˜ˆì˜ë‹¤";
      default:
        return "ì•Œ ìˆ˜ ì—†ë‹¤";
    }
  }
}
```

-   ì´ ì‹œì ì—ì„œ ì»´íŒŒì¼í•˜ê³  í…ŒìŠ¤íŠ¸ í•´ë³´ì
-   ì˜ ë™ì‘í•œë‹¤ë©´ ë‹¤ìŒ ì¡°ê±´ì ˆì„ ì²˜ë¦¬í•œë‹¤.

```JavaScript
class AfricanSwallow extends Bird{
  get plumage(){
    return (this.numberOfCoconuts > 2) ? "ì§€ì³¤ë‹¤" : "ë³´í†µì´ë‹¤";
  }
}
class NorwegianBlueParrot extends Bird{
  get plumage(){
    return (this.voltage > 100) ? "ê·¸ì„ë ¸ë‹¤" : "ì˜ˆì˜ë‹¤";
  }
}

class Bird{
  get plumage(){
    return "ì•Œ ìˆ˜ ì—†ë‹¤";
  }
}
```

-   ë˜‘ê°™ì€ ê³¼ì •ì„ airSpeedVelocity() ì—ë„ ìˆ˜í–‰í•œë‹¤.
-   ë‹¤ ëë‚´ë©´ ì½”ë“œì˜ ëª¨ìŠµì´ ë‹¤ìŒì²˜ëŸ¼ ë³€í•´ìˆì„ ê²ƒì´ë‹¤.
-   ìµœìƒìœ„ í•¨ìˆ˜ì¸ airSpeedVelocityì™€ plumageëŠ” ì¸ë¼ì¸ ì‹œì¼°ë‹¤

```JavaScript
function plumages(birds){
  return new Map(birds
        .map(b => createBird(b))
        .map(bird => [bird.name, bird.plumage]));
}

function speeds(birds){
  return new Map(birds
                  .map(b => createBird(b))
                  .map(bird => [bird.name, bird.airSpeedVelocity]));
}

function createBird(bird){
  switch(bird.type){
    case 'ìœ ëŸ½ ì œë¹„':
      return new EuropeanSwallow(bird);
    case 'ì•„í”„ë¦¬ì¹´ ì œë¹„':
      return new AfricanSwallow(bird);
    case 'ë…¸ë¥´ì›¨ì´ íŒŒë‘ ì•µë¬´':
      return new NorwegianBlueParrot(bird);
    default:
      return new Bird(bird);
  }
}

class Bird{
  constructor(birdObject) {
    Object.assign(this, birdObject);
  }

  get plumage(){
    return "ì•Œ ìˆ˜ ì—†ë‹¤";
  }

  get airSpeedVelocity(){
    return null;
  }
}

class EuropeanSwallow extends Bird{
  get plumage(){
    return "ë³´í†µì´ë‹¤";
  }
  get airSpeedVelocity(){
    return 35;
  }
}

class AfricanSwallow extends Bird{
  get plumage(){
    return (this.numberOfCoconuts > 2) ? "ì§€ì³¤ë‹¤" : "ë³´í†µì´ë‹¤";
  }
  get airSpeedVelocity(){
    return 40 - 2 * this.numberOfCoconuts;
  }
}

class NorwegianBlueParrot extends Bird{
  get plumage(){
    return (this.voltage > 100) ? "ê·¸ì„ë ¸ë‹¤" : "ì˜ˆì˜ë‹¤";
  }
  get airSpeedVelocity(){
    return (this.isNailed) ? 0 : 10 + this.voltage / 10;
  }
}
```

## ì˜ˆì‹œ: ë³€í˜• ë™ì‘ì„ ë‹¤í˜•ì„±ìœ¼ë¡œ í‘œí˜„í•˜ê¸°

ê±°ì˜ ë˜‘ê°™ì€ ê°ì²´ì§€ë§Œ ë‹¤ë¥¸ ë¶€ë¶„ë„ ìˆìŒì„ í‘œí˜„í•  ë•Œë„ ìƒì†ì„ ì“´ë‹¤.

ì‹ ìš© í‰ê°€ ê¸°ê´€ì—ì„œ ì„ ë°•ì˜ í•­í•´ íˆ¬ì ë“±ê¸‰ì„ ê³„ì‚°í•˜ëŠ” ì½”ë“œë¥¼ ìƒê°í•´ë³´ì. í‰ê°€ê¸°ê´€ì€ ìœ„í—˜ìš”ì†Œì™€ ì ì¬ ìˆ˜ìµì— ì˜í–¥ì„ ì£¼ëŠ” ë‹¤ì–‘í•œ ìš”ì¸ì„ ê¸°ì´ˆë¡œ í•­í•´ ë“±ê¸‰ì„ 'A'ì™€ 'B'ë¡œ ë‚˜ëˆˆë‹¤.

ìœ„í—˜ìš”ì†ŒëŠ” í•­í•´ ê²½ë¡œì˜ ìì—°ì¡°ê±´ê³¼ ì„ ì¥ì˜ í•­í•´ ì´ë ¥ì„ ê³ ë ¤í•œë‹¤.

```JavaScript
function rating(voyage, history){ //íˆ¬ì ë“±ê¸‰
  const vpf = voyageProfitFactor(voyage, history);
  const cr = voyageRisk(voyage);
  const chr = captainHistoryRisk(voyage, history);
  if(vpf * 3 > (vr + chr * 2)) return "A";
  else return "B";
}

function voyageRisk(voyage){ //í•­í•´ ê²½ë¡œ ìœ„í—˜ ìš”ì†Œ
  let result = 1;
  if(voyage.length > 4) result += 2;
  if(voyage.length > 8) result += voyage.length - 8;
  if(["ì¤‘êµ­", "ë™ì¸ë„"].includes(voyage.zone)) result += 4;
  return Math.max(result, 0);
}

function captainHistoryRisk(voyage, history){// ì„ ì¥ì˜ í•­í•´ ì´ë ¥ ìœ„í—˜ ìš”ì†Œ
  let result = 1;
  if(history.length < 5) result += 4;
  result += history.filter(v => v.profit < 0).length;
  if(voyage.zone === "ì¤‘êµ­" && hasChina(history)) result -= 2;
  return Math.max(result, 0);
}

function hasChina(history){ // ì¤‘êµ­ì„ ê²½ìœ í•˜ëŠ”ê°€?
  return history.some(v => "ì¤‘êµ­" === v.zone);
}

function voyageProfitFactor(voyage, history){// ìˆ˜ìµ ìš”ì¸
  let result = 2;
  if(voyage.zone === "ì¤‘êµ­") result += 1;
  if(voyage.zone === "ë™ì¸ë„") result += 1;
  if(voyage.zone === "ì¤‘êµ­" && hasChina(history)){
    result += 3;
    if(history.length > 10) result += 1;
    if(voyage.length > 12) result += 1;
    if(voyage.length > 18) result -= 1;
  }else{
    if(history.length > 8) result += 1;
    if(voyage.length > 14) result -= 1;
  }
  return result;
}
```

voyageRiskì™€ captainHistoryRiskí•¨ìˆ˜ì˜ ì ìˆ˜ëŠ” ìœ„í—˜ìš”ì†Œì—, voyageProfitFactor()ì ìˆ˜ëŠ” ì ì¬ ìˆ˜ìµì— ë°˜ì˜ëœë‹¤. rating()í•¨ìˆ˜ëŠ” ë‘ ê°’ì„ ì¢…í•©í•˜ì—¬ ìš”ì²­í•œ í•­í•´ì˜ ìµœì¢… ë“±ê¸‰ì„ ê³„ì‚°í•œë‹¤.

í˜¸ì¶œí•˜ëŠ” ìª½ ì½”ë“œê°€ ë‹¤ìŒê³¼ ê°™ì„ë•Œ

```JavaScript
const voyage = {zone: "ì„œì¸ë„", length: 10};
const history = [
  {zone: "ë™ì¸ë„", profit: 5},
  {zone: "ì„œì¸ë„", profit: 15},
  {zone: "ì¤‘êµ­", profit: -2},
  {zone: "ì„œì•„í”„ë¦¬ì¹´", profit: 7},
];

const myRating = rating(voyage, history);
```

ì£¼ëª©í•  ê³³ì€ ë‘ê³³ìœ¼ë¡œ ì¤‘êµ­ê¹Œì§€ í•­í•´í•´ë³¸ ì„ ì¥ì´ ì¤‘êµ­ì„ ê²½ìœ í•´ í•­í•´í•  ë•Œë¥¼ ë‹¤ë£¨ëŠ” ì¡°ê±´ë¶€ ë¡œì§ë“¤

-   ì´ íŠ¹ìˆ˜í•œ ìƒí™©ì„ ë‹¤ë£¨ëŠ” ë¡œì§ë“¤ì„ ê¸°ë³¸ ë™ì‘ì—ì„œ ë¶„ë¦¬í•˜ê¸° ìœ„í•´ ìƒì†ê³¼ ë‹¤í˜•ì„±ì„ ì´ìš©í•  ê²ƒì´ë‹¤.

-   í•¨ìˆ˜ê°€ ë§ì€ë° ì„¸ë¶€ ê³„ì‚°ì„ ìˆ˜í–‰í•˜ëŠ” í•¨ìˆ˜ë“¤ì„ ë¨¼ì € ì²˜ë¦¬
-   ë‹¤í˜•ì„±ì„ ì ìš©í•˜ë ¤ë©´ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ì•¼ í•˜ë‹ˆ ì—¬ëŸ¬ í•¨ìˆ˜ë¥¼ í´ë˜ìŠ¤ë¡œ ë¬¶ê¸° ë¶€í„° ì ìš©í•  ê²ƒì´ë‹¤.

```JavaScript
function rating(voyage, history){
  return new Rating(voyage, history).value;
}

class Rating{ // í•¨ìˆ˜ë“¤ì„ Rating í´ë˜ìŠ¤ë¡œ ë¬¶ì—ˆë‹¤.
  constructor(voyage, history) {
    this.voyage = voyage;
    this.history = history;
  }

  get value(){
    const vpf = this.voyageProfitFactor;
    const cr = this.voyageRisk;
    const chr = this.captainHistoryRisk;
    if(vpf * 3 > (vr + chr * 2)) return "A";
    else return "B";
  }

  get voyageRisk(){
    let result = 1;
    if(this.voyage.length > 4) result += 2;
    if(this.voyage.length > 8) result += this.voyage.length - 8;
    if(["ì¤‘êµ­", "ë™ì¸ë„"].includes(this.voyage.zone)) result += 4;
    return Math.max(result, 0);
  }

  get captainHistoryRisk(){
    let result = 1;
    if(this.history.length < 5) result += 4;
    result += this.history.filter(v => v.profit < 0).length;
    if(this.voyage.zone === "ì¤‘êµ­" && this.hashChinaHistory) result -= 2;
    return Math.max(result, 0);
  }

  get voyageProfitFactor(){
    let result = 2;
    if(this.voyage.zone === "ì¤‘êµ­") result += 1;
    if(this.voyage.zone ==== "ë™ì¸ë„") result += 1;
    if(this.voyage.zone === "ì¤‘êµ­" && this.hashChinaHistory){
      result += 3;
      if(this.history.length > 10) result += 1;
      if(this.voyage.length > 12)result += 1;
      if(this.voyage.length > 18)result -= 1;
   }else{
      if(this.history.length > 8) result += 1;
      if(this.voyage.length > 14) result -= 1;
   }
    return result;
  }

  get hashChinaHistory(){
    return this.history.name(v => "ì¤‘êµ­" === v.zone);
  }
}
```

-   ê¸°ë³¸ ë™ì‘ì„ ë‹´ë‹¹í•  í´ë˜ìŠ¤ê°€ ë§Œë“¤ì–´ì¡Œë‹¤ ë‹¤ìŒ ì°¨ë¡€ëŠ” ë³€í˜• ë™ì‘ì„ ë‹´ì€ ë¹ˆ ì„œë¸Œ í´ë˜ìŠ¤ ë§Œë“¤ê¸°ë‹¤.

```JavaScript
class ExperiencedChianRating extends Rating{
}
```

-   ê·¸ëŸ° ë‹¤ìŒ ì ì ˆí•œ ë³€í˜• í´ë˜ìŠ¤ë¥¼ ë°˜í™˜í•´ì¤„ íŒ©í„°ë¦¬ í•¨ìˆ˜ë¥¼ ë§Œë“ ë‹¤.

```JavaScript
function createRating(voyage, history){
  if(voyage.zone === "ì¤‘êµ­" && history.some(v => "ì¤‘êµ­" === v.zone))
    return new ExperiencedChianRating(voyage, history);
  else
    return new Rating(voyage, history);
}
```

-   ì´ì œ ìƒì„±ìë¥¼ í˜¸ì¶œí•˜ëŠ” ì½”ë“œë¥¼ ëª¨ë‘ ì°¾ì•„ì„œ ì´ íŒ©í„°ë¦¬ í•¨ìˆ˜ë¥¼ ëŒ€ì‹  ì‚¬ìš©í•˜ë„ë¡ ìˆ˜ì •í•œë‹¤.

-   ì§€ê¸ˆ ì˜ˆì—ì„œëŠ” rating() í•¨ìˆ˜ í•˜ë‚˜ë¿ì´ë‹¤.

```JavaScript
function rating(voyage, history){
  return createRating(voyage, history).value;
}
```

ì„œë¸Œí´ë˜ìŠ¤ë¡œ ì˜®ê¸¸ ë™ì‘ì€ ë‘ ê°€ì§€ë‹¤. captainHistoryRisk() ì•ˆì˜ ë¡œì§ë¶€í„° ì‹œì‘í•˜ì.

```JavaScript
class Rating{
  get captainHistoryRisk(){
    let result = 1;
    if(this.history.length < 5) result += 4;
    result += this.history.filter(v => v.profit < 0).length;
    if(this.voyage.zone === "ì¤‘êµ­" && this.hashChinaHistory) result -= 2;
    return Math.max(result, 0);
  }
}
```

-   ì„œë¸Œ í´ë˜ìŠ¤ì—ì„œ ìœ„ ë©”ì„œë“œë¥¼ ì˜¤ë²„ë¼ì´ë“œ í•œë‹¤.

```JavaScript
class ExperiencedChianRating{
  get captainHistoryRisk(){
    const result = super.captainHistoryRisk - 2;
    return Math.max(result, 0);
  }
}

class Rating{
  get captainHistoryRisk(){
    let result 1;
    if(this.history.length < 5) result += 4;
    result += this.history.filter(v => v.profit < 0).length;
    // ì‚­ì œ
    //if(this.voyage.zone === "ì¤‘êµ­" && this.hashChinaHistory) result -= 2;
    return Math.max(result, 0);
  }
}
```

voyageProfitFactor() ì—ì„œ ë³€í˜• ë™ì‘ì„ ë¶„ë¦¬í•˜ëŠ” ì‘ì—…ì€ ì‚´ì§ ë” ë³µì¡í•˜ë‹¤.

ì´ í•¨ìˆ˜ì—ëŠ” ë‹¤ë¥¸ ê²½ë¡œê°€ ì¡´ì¬í•˜ë¯€ë¡œ, ë‹¨ìˆœíˆ ë³€í˜• ë™ì‘ì„ ì œê±°í•˜ê³  ìŠˆí¼í´ë˜ìŠ¤ì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ë°©ì‹ì€ ì ìš©í•  ìˆ˜ ì—†ë‹¤.

ë˜í•œ ìŠˆí¼í´ë˜ìŠ¤ì˜ ë©”ì„œë“œë¥¼ í†µì§¸ë¡œ ì„œë¸Œí´ë˜ìŠ¤ë¡œ ë³µì‚¬í•˜ê³  ì‹¶ì§€ë„ ì•Šë‹¤.

```JavaScript
class Rating{
  get voyageProfitFactor(){
    let result = 2;
    if(this.voyage.zone === "ì¤‘êµ­") result += 1;
    if(this.voyage.zone === "ë™ì¸ë„") result += 1;
    if(this.voyage.zone === "ì¤‘êµ­" && this.hasChinaHistory){
      result += 3;
      if(this.history.length > 10) result += 1;
      if(this.voyage.length > 12) result += 1;
      if(this.voyage.length > 18) result -= 1;
    }
    else{
      if(this.history.length > 8) result += 1;
      if(this.voyage.length > 14) result -= 1;
    }
    return result;
  }
}
```

-   ê·¸ë˜ì„œ í•´ë‹¹ ì¡°ê±´ë¶€ ë¸”ë¡ ì „ì²´ë¥¼ í•¨ìˆ˜ë¡œ ì¶”ì¶œí•œë‹¤.

```JavaScript
class Rating{
  get voyageProfitFactor(){
    let result = 2;
    if(this.voyage.zone === "ì¤‘êµ­") result += 1;
    if(this.voyage.zone === "ë™ì¸ë„") result += 1;
    result += this.voyageAndHistoryLengthFactor;
    return result;
  }


  get voyageAndHistoryLengthFactor(){
    let result = 0;
    if(this.voyage.zone === "ì¤‘êµ­" && this.hasChinaHistory){
      result += 3;
      if(this.history.length > 10) result += 1;
      if(this.voyage.length > 12) result += 1;
      if(this.voyage.length > 18) result -= 1;
    }
    else{
      if(this.history.length > 8) result += 1;
      if(this.voyage.length > 14) result -= 1;
    }
    return result;
  }
}
```

-   í•¨ìˆ˜ ì´ë¦„ì— ê·¸ë¦¬ê³ ë¥¼ ëœ»í•˜ëŠ” Andê°€ ë“¤ì–´ìˆì–´ì„œ ì•…ì·¨ê°€ ê½¤ ë‚˜ì§€ë§Œ ì„œë¸Œí´ë˜ìŠ¤ êµ¬ì„±ì„ ë§ˆë¬´ë¦¬í•˜ëŠ” ì ê¹ ë™ì•ˆë§Œ ê²¬ëŒë³´ê¸°ë¡œ í•˜ì.

```JavaScript
class Rating{
  get voyageAndHistoryLengthFactor(){
    let result = 0;
    if(this.history.length > 8) result += 1;
    if(this.voyage.length > 14) result -= 1;
    return result;
  }
}

class ExperiencedChianRating{
   get voyageAndHistoryLengthFactor(){
    let result = 0;
    result += 3;
    if(this.history.length > 10) result += 1;
    if(this.voyage.length > 12) result += 1;
    if(this.voyage.length > 18) result -= 1;
    return result;
  }
}
```

## ë” ê°€ë‹¤ë“¬ê¸°

ë³€í˜• ë™ì‘ì„ ì„œë¸Œí´ë˜ìŠ¤ë¡œ ë½‘ì•„ëƒˆìœ¼ë‹ˆ ê³µì‹ì ìœ¼ë¡œëŠ” ì—¬ê¸°ê¹Œì§€ê°€ ì´ ë¦¬íŒ©í„°ë§ì˜ ëì´ë‹¤. ìŠˆí¼ í´ë˜ìŠ¤ì˜ ë¡œì§ì€ ê°„ì†Œí™”ë˜ì–´ ì´í•´í•˜ê³  ë‹¤ë£¨ê¸° ë” ì‰¬ì›Œì¡Œë‹¤. ë³€í˜• ë™ì‘ì€ ìŠˆí¼ í´ë˜ìŠ¤ì™€ì˜ ì°¨ì´ë¥¼ í‘œí˜„í•´ì•¼ í•œëŠ ì„œë¸Œ í´ë˜ìŠ¤ì—ë§Œ ì‹ ê²½ ì“°ë©´ ëœë‹¤.

í•˜ì§€ë§Œ ì•…ì·¨ë¥¼ í’ê¸°ëŠ” ë©”ì„œë“œë¥¼ ìƒˆë¡œ ë§Œë“¤ì—ˆìœ¼ë‹ˆ ì²˜ë¦¬ ë°©ë²•ì„ ëŒ€ëµì ìœ¼ë¡œë‚˜ë§ˆ ì„¤ëª…í•´ì¤˜ í•  ê²ƒ ê°™ë‹¤.

ì´ë²ˆ ì˜ˆì™€ ê°™ì´ `ê¸°ë³¸ë™ì‘ - ë³€í˜•ë™ì‘ ` ìƒì†ì—ì„œëŠ” ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ ìˆœì „íˆ ì˜¤ë²„ë¼ì´ë“œë§Œì„ ìœ„í•´ ë©”ì„œë“œë¥¼ ì¶”ê°€í•˜ëŠ” ì¼ì´ í”í•˜ë‹¤. í•˜ì§€ë§Œ ì´ëŸ° ì¡°ì¡í•œ ë©”ì„œë“œëŠ” ë¡œì§ì„ ë¶€ê°í•˜ê¸°ë³´ë‹¤ëŠ” ì¼ì˜ ì§„í–‰ ê³¼ì •ì„ ëª¨í˜¸í•˜ê²Œ ë§Œë“¤ê³¤ í•œë‹¤.

ë©”ì„œë“œ ì´ë¦„ì´ "And"ëŠ” ì´ ë©”ì„œë“œê°€ ë‘ ê°€ì§€ ë…ë¦½ëœ ì¼ì„ ìˆ˜í–‰í•œë‹¤ê³  ì†Œë¦¬ì¹œë‹¤.

ê·¸ëŸ¬ë‹ˆ ë‘˜ì„ ë¶„ë¦¬í•˜ê³  ì´ë ¥ ê¸¸ì´ë¥¼ ìˆ˜ì •í•˜ëŠ” ë¶€ë¶„ì„ í•¨ìˆ˜ë¡œ ì¶”ì¶œí•œë‹¤. ìŠˆí¼í´ë˜ìŠ¤ ì„œë¸Œí´ë˜ìŠ¤ ë‘˜ë‹¤.

```JavaScript
class Rating{
  get voyageAndHistoryLengthFactor(){
    let result = 0;
    result += this.historyLengthFactor;
    if(this.voyage.length > 14) result -= 1;
    return result;
  }

  get historyLengthFactor(){
    return (this.history.length > 8) ? 1 : 0;
  }
}
```

-   ê°™ì€ ì‘ì—…ì„ ì„œë¸Œí´ë˜ìŠ¤ì—ë„ ë°˜ë³µ

```JavaScript
class ExperiencedChianRating{
   get voyageAndHistoryLengthFactor(){
    let result = 0;
    result += 3;
    result += historyLengthFactor;
    if(this.voyage.length > 12) result += 1;
    if(this.voyage.length > 18) result -= 1;
    return result;
  }

  get historyLengthFactor(){
    return (this.history.length > 10) ? 1 : 0
  }
}
```

-   ì´ì œ ìŠˆí¼í´ë˜ìŠ¤ ì—ì„œëŠ” ë¬¸ì¥ì„ í˜¸ì¶œí•œ ê³³ìœ¼ë¡œ ì˜®ê¸°ê¸°ë¥¼ ì ìš©í•  ìˆ˜ ìˆë‹¤.

```JavaScript
class Rating{
  get voyageProfitFactor(){
    let result = 2;
    if(this.voyage.zone === "ì¤‘êµ­") result += 1;
    if(this.voyage.zone === "ë™ì¸ë„") result += 1;
    result += this.historyLengthFactor;
    result += this.voyageAndHistoryLengthFactor
  }

  get voyageAndHistoryLengthFactor(){
    let result = 0;
    if(this.voyage.length > 14) result -= 1;
    return result;
  }

  get historyLengthFactor(){
    return (this.history.length > 8) ? 1 : 0;
  }
}


class ExperiencedChianRating{
   get voyageAndHistoryLengthFactor(){
    let result = 0;
    result += 3;
    if(this.voyage.length > 12) result += 1;
    if(this.voyage.length > 18) result -= 1;
    return result;
  }

  get historyLengthFactor(){
    return (this.history.length > 10) ? 1 : 0
  }
}
```

-   ì´ì œ í•¨ìˆ˜ ì´ë¦„ì„ ë°”ê¾¸êµ¬ 3í•­ ì—°ì‚°ìë¥¼ ì¨ì„œ ë°”ê¾¼ í•¨ìˆ˜ì¸ voyageLengthFactor()ë¥¼ ê°„ì†Œí™” ì‹œí‚¨ë‹¤.

-   ê·¸ë¦¬ê³  í•­í•´ ê±°ë¦¬ ìš”ì¸ì„ ê³„ì‚°í• ë•Œ 3ì ì„ ë”í•˜ê³  ìˆëŠ”ë° ì´ ë¡œì§ì€ ì „ì²´ ê²°ê³¼ë¥¼ ê³„ì‚°í•˜ëŠ” ìª½ìœ¼ë¡œ ì˜®ê¸°ëŠ” ê²Œ ì¢‹ì•„ ë³´ì¸ë‹¤.

-   ìµœì¢…ê²°ê³¼

```JavaScript
class Rating{
  constructor(voyage, history) {
    this.voyage = voyage;
    this.history = history;
  }

  get value(){
    const vpf = this.voyageProfitFactor;
    const vr = this.voyageRisk;
    const chr = this.captainHistoryRisk;
    if(vpf * 3 > (vr + chr * 2)) return "A";
    else return "B";
  }

  get voyageRisk(){
    let result = 1;
    if(this.voyage.length > 4) result += 2;
    if(this.voyage.length > 8) result += this.voyage.length - 8;
    if(["ì¤‘êµ­", "ë™ì¸ë„"].includes(this.voyage.zone)) result += 4;
    return Math.max(result, 0);
  }

  get captainHistoryRisk(){
    let result = 1;
    if(this.history.length < 5) result += 4;
    result += this.history.filter(v => v.profit < 0).length;
    return Math.max(result, 0);
  }

  get voyageProfitFactor(){
    let result = 2;
    if(this.voyage.zone === "ì¤‘êµ­") result += 1;
    if(this.voyage.zone === "ë™ì¸ë„") result += 1;
    result += this.historyLengthFactor;
    result += this.voyageLengthFactor;
    return result;
  }

  get voyageLengthFactor(){
    return (this.voyage.length > 14) ? -1 : 0;
  }

  get historyLengthFactor(){
    return (this.history.length > 8) ? 1 : 0;
  }
}
```

-   ì¤‘êµ­ í•­í•´ ê²½í—˜ì´ ìˆì„ë•Œë¥¼ ë‹´ë‹¹í•˜ëŠ” ì„œë¸Œ í´ë˜ìŠ¤ ê¸°ë³¸ í´ë˜ìŠ¤ì™€ì˜ ì°¨ì´ë§Œ ë‹´ê³ ìˆë‹¤.

```JavaScript
class ExperiencedChianRating extends Rating{
  get captainHistoryRisk(){
    const result = super.captainHistoryRisk - 2;
    return Math.max(result, 0);
  }

  get voyageLengthFactor(){
    let result = 0;
    if(this.voyage.length > 12)result += 1;
    if(this.voyage.length > 18)result -= 1;
    return result;
  }

  get historyLengthFactor(){
    return (this.history.length > 10) ? 1 : 0;
  }

  get voyageProfitFactor(){
    return super.voyageProfitFactor + 3;
  }
}
```
