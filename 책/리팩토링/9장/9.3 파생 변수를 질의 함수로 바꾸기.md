# íŒŒìƒ ë³€ìˆ˜ë¥¼ ì§ˆì˜ í•¨ìˆ˜ë¡œ ë°”ê¾¸ê¸°

```JavaScript
get discountedTotal(){return this._discountedTotal;}
set discount(aNumber){
  const old = this._discount;
  this._discount = aNumber;
  this._discountedTotal += old - aNumber;
}
```

<center>ğŸ”½</center>

```JavaScript
get discountTotal(){return this._baseTotal - this._discount;}
set discount(aNumber){this._discount = aNumber;}
```

## ë°°ê²½

ê°€ë³€ ë°ì´í„°ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ë¬¸ì œë¥¼ ì¼ìœ¼í‚¤ëŠ” ê°€ì¥ í° ê³¨ì¹«ê±°ë¦¬ì— ì†í•œë‹¤.

ê°€ë³€ ë°ì´í„°ëŠ” ì„œë¡œ ë‹¤ë¥¸ ë‘ ì½”ë“œë¥¼ ì´ìƒí•œ ë°©ì‹ìœ¼ë¡œ ê²°í•©í•˜ê¸°ë„ í•˜ëŠ”ë°,
ì˜ˆì»¨ëŒ€ í•œ ìª½ ì½”ë“œì—ì„œ ìˆ˜ì •í•œ ê°’ì´ ì—°ì‡„íš¨ê³¼ë¥¼ ì¼ìœ¼ì¼œ ë‹¤ë¥¸ ìª½ ì½”ë“œì— ì›ì¸ì„ ì°¾ê¸° ì–´ë ¤ìš´ ë¬¸ì œë¥¼ ì•¼ê¸°í•˜ê¸°ë„ í•œë‹¤.

ê°€ë³€ ë°ì´í„°ë¥¼ ì™„ì „íˆ ë°°ì²´í•˜ê¸°ë€ í˜„ì‹¤ì ìœ¼ë¡œ ë¶ˆê°€ëŠ¥í•  ë•Œê°€ ë§ì§€ë§Œ, ê°€ë³€ ë°ì´í„°ì˜ ìœ íš¨ ë²”ìœ„ë¥¼ ê°€ëŠ¥í•œ í•œ ì¢í˜€ì•¼ í•œë‹¤.

íš¨ê³¼ê°€ ì¢‹ì€ ë°©ë²•ìœ¼ë¡œ ê°’ì„ ì‰½ê²Œ ê³„ì‚°í•´ë‚¼ ìˆ˜ ìˆëŠ” ë³€ìˆ˜ë“¤ì„ ëª¨ë‘ ì œê±°í•  ìˆ˜ ìˆë‹¤.

í•˜ì§€ë§Œ í”¼ì—°ì‚°ì ë°ì´í„°ê°€ ë¶ˆë³€ì´ë¼ë©´ ê³„ì‚° ê²°ê³¼ë„ ì¼ì •í•˜ë¯€ë¡œ ì—­ì‹œ ë¶ˆë³€ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ê·¸ë˜ì„œ ìƒˆë¡œìš´ ë°ì´í„° êµ¬ì¡°ë¥¼ ìƒì„±í•˜ëŠ” ë³€í˜• ì—°ì‚°ì´ë¼ë©´ ë¹„ë¡ ê³„ì‚° ì½”ë“œë¡œ ëŒ€ì²´í•  ìˆ˜ ìˆë”ë¼ë„ ê·¸ëŒ€ë¡œ ë‘ëŠ” ê²ƒë„ ì¢‹ë‹¤.

ë³€í˜• ì—°ì‚°ì—ëŠ” ë‘ ê°€ì§€ê°€ ìˆë‹¤.

-   ë°ì´í„° êµ¬ì¡°ë¥¼ ê°ì‹¸ë©° ê·¸ ë°ì´í„°ì— ê¸°ì´ˆí•˜ì—¬ ê³„ì‚°í•œ ê²°ê³¼ë¥¼ ì†ì„±ìœ¼ë¡œ ì œê³µí•˜ëŠ” ê°ì²´

-   ë°ì´í„° êµ¬ì¡°ë¥¼ ë°›ì•„ ë‹¤ë¥¸ ë°ì´í„° êµ¬ì¡°ë¡œ ë³€í™˜í•´ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜

ì†ŒìŠ¤ë°ì´í„°ê°€ ê°€ë³€ì´ê³  íŒŒìƒ ë°ì´í„° êµ¬ì¡°ì˜ ìˆ˜ëª…ì„ ê´€ë¦¬í•´ì•¼ í•˜ëŠ” ìƒí™©ì—ì„œëŠ” ê°ì²´ë¥¼ ì‚¬ìš©í•˜ëŠ” í¸ì´ í™•ì‹¤íˆ ìœ ë¦¬í•˜ë‹¤.

ë°˜ë©´ ì†ŒìŠ¤ ë°ì´í„°ê°€ ë¶ˆë³€ì´ê±°ë‚˜ íŒŒìƒ ë°ì´í„°ë¥¼ ì ì‹œ ì“°ê³  ë²„ë¦´ ê±°ë¼ë©´ ì–´ëŠ ë°©ì‹ì„ ì¨ë„ ìƒê´€ì—†ë‹¤.

## ì ˆì°¨

-   ë³€ìˆ˜ ê°’ì´ ê°±ì‹ ë˜ëŠ” ì§€ì ì„ ëª¨ë‘ ì°¾ëŠ”ë‹¤. í•„ìš”í•˜ë©´ ë³€ìˆ˜ ìª¼ê°œê¸°ë¥¼ í™œìš©í•´ ê° ê°±ì‹  ì§€ì ì—ì„œ ë³€ìˆ˜ë¥¼ ë¶„ë¦¬í•œë‹¤.

-   í•´ë‹¹ ë³€ìˆ˜ì˜ ê°’ì„ ê³„ì‚°í•´ì£¼ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“ ë‹¤.

-   í•´ë‹¹ ë³€ìˆ˜ê°€ ì‚¬ìš©ë˜ëŠ” ëª¨ë“  ê³³ì—ì„œ ì–´ì„œì…˜ì„ ì¶”ê°€í•˜ì—¬ í•¨ìˆ˜ì˜ ê³„ì‚° ê²°ê³¼ê°€ ë³€ìˆ˜ì˜ ê°’ê³¼ ê°™ì€ì§€ í™•ì¸í•œë‹¤.

-   í…ŒìŠ¤íŠ¸í•œë‹¤.

-   ë³€ìˆ˜ë¥¼ ì½ëŠ” ì½”ë“œë¥¼ ëª¨ë‘ í•¨ìˆ˜ í˜¸ì¶œë¡œ ëŒ€ì²´í•œë‹¤.

-   í…ŒìŠ¤íŠ¸í•œë‹¤.

-   ë³€ìˆ˜ë¥¼ ì„ ì–¸í•˜ê³  ê°±ì‹ í•˜ëŠ” ì½”ë“œë¥¼ ì£½ì€ ì½”ë“œ ì œê±°í•˜ê¸°ë¡œ ì—†ì•¤ë‹¤.

## ì˜ˆì‹œ

```JavaScript
get production(){return this._production;}
applyAdjustment(anAdjustment){
  this._adjustments.push(anAdjustment);
  this._production += anAdjustment.amount;
}
```

ì´ ì˜ˆì—ì„œëŠ” ë°ì´í„° ì¤‘ë³µì´ ê±°ìŠ¬ë¦°ë‹¤. ì¡°ì • ê°’ adjustmentë¥¼ ì ìš©í•˜ëŠ” ê³¼ì •ì—ì„œ ì§ì ‘ ê´€ë ¨ì´ ì—†ëŠ” ëˆ„ì  ê°’ productionê¹Œì§€ ê°±ì‹ í–ˆë‹¤. ì´ ëˆ„ì ê°’ì€ ë§¤ë²ˆ ê°±ì‹ í•˜ì§€ ì•Šê³ ë„ ê³„ì‚°í•  ìˆ˜ ìˆë‹¤.

-   ì–´ì„œì…˜ì„ í†µí•œ ê²€ì¦

```JavaScript
class ProductionPlan(){
  get production(){
    assert(this._production === this.calculatedProduction);
    return this._production;
  }

  get calculatedProduction(){
    return this._adjustments
            .reduce((sum, a) => sum + a.amount, 0);
  }
}

```

ì–´ì„œì…˜ì„ ì¶”ê°€í–ˆìœ¼ë©´ í…ŒìŠ¤íŠ¸í•´ë³¸ë‹¤. ì–´ì„œì…˜ì´ ì‹¤íŒ¨í•˜ì§€ ì•Šìœ¼ë©´ í•„ë“œë¥¼ ë°˜í™˜í•˜ëŠ” ì½”ë“œë¥¼ ìˆ˜ì •í•˜ì—¬ ê³„ì‚° ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ë„ë¡ í•œë‹¤.

```JavaScript
class ProductionPlan{
  get production(){
    return this.calculatedProduction;
  }
}
```

ê·¸ëŸ° ë‹¤ìŒ calculatedProductionë©”ì„œë“œë¥¼ ì¸ë¼ì¸í•œë‹¤.

```JavaScript
class ProductionPlan{
  get production(){
    return this.adjustments.reduce((sum , a) => sum + a.amount, 0);
  }
}
```

ë§ˆì§€ë§‰ìœ¼ë¡œ, ì˜› ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•˜ëŠ” ëª¨ë“  ì½”ë“œë¥¼ ì£½ì€ ì½”ë“œ ì œê±°í•˜ê¸°ë¡œ ì •ë¦¬í•œë‹¤.

```JavaScript
class ProductionPlan{
  this._adjustments.push(anAdjustment);
}
```

## ì˜ˆì‹œ: ì†ŒìŠ¤ê°€ ë‘˜ ì´ìƒì¼ ë•Œ

```JavaScript
class ProductionPlan{
  constructor(production){
    this._production = production;
    this._adjustments = [];
  }

  get production(){return this._production;}
  applyAdjustment(anAdjustment){
    this._adjustments.push(anAdjustment);
    this._production += anAdjustment.amount;
  }
}
```

ì–´ì„œì…˜ ì½”ë“œë¥¼ ì•ì˜ ì˜ˆì™€ ë˜‘ê°™ì´ ì‘ì„±í•œë‹¤ë©´ \_productionì˜ ì´ˆê¸°ê°’ì´ 0ì´ ì•„ë‹ˆë©´ ì‹¤íŒ¨í•˜ê³  ë§Œë‹¤.

ì´ íŒŒìƒ ë°ì´í„°ë¥¼ ëŒ€ì²´í•  ë°©ë²•ì€ ì•„ì§ ìˆê³ , ê°„ë‹¨í•œë‹¤ ì•ì—ì„œì™€ì˜ ì°¨ì´ë¼ë©´ ë³€ìˆ˜ ìª¼ê°œê¸°ë¥¼ ë¨¼ì € ì ìš©í•˜ëŠ” ê²ƒ ë¿

```JavaScript
class ProductionPlan{
  constructor(production){
    this._initialProduction = production;
    this._productionAccumulator = 0;
    this._adjustments = [];
  }

  get production(){
    return this.__initialProduction + this._productionAccumulator;}
  applyAdjustment(anAdjustment){
    this._adjustments.push(anAdjustment);
    this._production += anAdjustment.amount;
  }
}
```

-   ì´ì œ ì–´ì„œì…˜ì„ ì¶”ê°€í•œë‹¤.

```JavaScript
  get production(){
    assert(this._productionAccumulator === this.calculatedProductionAccumulator;)
    return this.__initialProduction + this._productionAccumulator;}

  get calculatedProductionAccumulator(){
    return this._adjustments.reduce((sum, a) => sum + a.amount, 0);
  }
```

ê·¸ë‹¤ìŒì€ ì´ì „ê³¼ ê±°ì˜ ê°™ë‹¤ ë‹¤ë§Œ ì´ë²ˆì—ëŠ” calculatedProductionAccumulatorë¥¼ ì¸ë¼ì¸í•˜ì§€ ì•Šê³  ì†ì„±ìœ¼ë¡œ ë‚¨ê²¨ë‘ëŠ” í¸ì´ ë‚˜ì•„ë³´ì¸ë‹¤.
