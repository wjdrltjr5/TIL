# 긴 함수

짧은 함수들로 구성된 코드베이스를 얼핏 훑으면 연산하는 부분이 하나도 없어 보인다. 코드가 끝없이 위임하는 방식으로 작성되어 있기 떄문.

이 짧은 함수들은 간접 호출의 효과를 낸다. 코드를 이해하고, 공유하고, 선택하기 쉬워진다는 장점은 함수를 짦게 구성할 때 나오는 것이다.

적극적으로 함수를 쪼개야 한다. 주석을 달아야 할 만한 부분은 무조건 함수로 만든다. 그 함수 본문에는 원래 주석으로 설명하려던 코드가 담기고, 함수 이름은 동작 방식이 아닌 의도가 드러나게 짓는다.

핵심은 함수의 길이가 아닌 함소의 목적(의도)과 구현 코드의 괴리가 얼마나 큰가다. 무엇을 하는지를 코드가 잘 설명해주지 못할수록 함수로 만드는 게 유리하다.

함수가 매개변수와 임시 변수를 많이 사용한다면 추출 작업에 방해가 된다. 그렇다면 `임시 변수를 질의 함수로 바꾸기` 로 임시 변수의 수를, `매개변수 객체 만들기`와 `객체 통째로 넘기기`로 매개변수의 수를 줄일 수 있을 것이다.

그래도 임시 변수와 매개변수가 너무 많다면 `함수를 명령으로 바꾸기`를 고려해주자

주로 추출한 코드덩어리들은

-   주석이 달려있는 코드들(주로 이해하기 어려운 부분에 달려있는 경우가 많기 때문)
-   조건문이나 반복문

    -   조건문은 `조건문 분해`하기로 대응
    -   switch 문은 case 마다 함수 추출하기로 `본문을 함수 하나`로 변경

        -   같은 조건으로 나뉘는 switch문이 어려 개 라면 `조건부 로직을 다형성으로 바꾸기`

    -   반복문은 `반복문 쪼개기`를 적용
