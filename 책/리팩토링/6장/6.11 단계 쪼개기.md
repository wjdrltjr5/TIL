# ë‹¨ê³„ ìª¼ê°œê¸°

```JavaScript
const orderData = orderString.split(/\s+/);
const productPrice = priceList[orderData[0].split("-")[1]];
const orderPrice = parseInt(orderData[1]) * productPrice;
```

<center>ðŸ”½</center>

```JavaScript
const orderRecord = parseOrder(order);
const orderPrice = price(orderRecord, priceList);

function parseOrder(aString){
  const values = aString.split(/\s+/);
  return({
    productID: values[0].split("-")[1],
    quantity: parseInt(values[1]),
  });

  function price(order, priceList){
    return order,quantity * priceList[order.productID];
  }
}
```

## ë°°ê²½

`ì„œë¡œ ë‹¤ë¥¸ ë‘ ëŒ€ìƒì„ í•œêº¼ë²ˆì— ë‹¤ë£¨ëŠ” ì½”ë“œë¥¼ ë°œê²¬í•˜ê²Œ ë˜ë©´ ê°ê°ì„ ë³„ê°œ ëª¨ë“ˆë¡œ ë‚˜ëˆ„ëŠ” ë°©ë²•ì„ ëª¨ìƒ‰í•œë‹¤`

ì½”ë“œë¥¼ ìˆ˜ì •í•´ì•¼ í•  ë–„ ë‘ ëŒ€ìƒì„ ë™ì‹œì— ìƒê°í•  í•„ìš” ì—†ì´ í•˜ë‚˜ì—ë§Œ ì§‘ì¤‘í•˜ê¸° ìœ„í•´ì„œë‹¤.

ëª¨ë“ˆì´ ìž˜ ë¶„ë¦¬ë˜ì–´ ìžˆë‹¤ë©´ ë‹¤ë¥¸ ëª¨ë“ˆì˜ ìƒì„¸ ë‚´ìš©ì€ ì „í˜€ ê¸°ì–µí•˜ì§€ ëª»í•´ë„ ì›í•˜ëŠ”ëŒ€ë¡œ ìˆ˜ì •ì„ ëë§ˆì¹  ìˆ˜ë„ ìžˆë‹¤.

ë¶„ë¦¬í•˜ëŠ” ê°€ìž¥ ê°„íŽ¸í•œ ë°©ë²•ì€ ë™ìž‘ì„ ì—°ì´ì€ ë‘ ë‹¨ê³„ë¡œ ìª¼ê°œëŠ” ê²ƒì´ë‹¤. ìž…ë ¥ì´ ì²˜ë¦¬ ë¡œì§ì— ì í•©í•˜ì§€ ì•Šì€ í˜•íƒœë¡œ ë“¤ì–´ì˜¤ëŠ” ê²½ìš°ë¥¼ ì˜ˆë¡œ ì´ëŸ´ë•ŒëŠ” ë³¸ ìž‘ì—…ì— ë“¤ì–´ê°€ê¸° ì „ì— ìž…ë ¥ê°’ì„ ë‹¤ë£¨ê¸° íŽ¸í•œ í˜„íƒœë¡œ ê°€ê³µí•œë‹¤.

ì•„ë‹ˆë©´ ë¡œì§ì„ ìˆœì°¨ì ì¸ ë‹¨ê³„ë“¤ë¡œ ë¶„ë¦¬í•´ë„ ëœë‹¤. (ì´ë•Œ ê° ë‹¨ê³„ëŠ” ì„œë¡œ í™•ì—°ížˆ ë‹¤ë¥¸ ì¼ì„ ìˆ˜í–‰í•´ì•¼ í•œë‹¤.)

ì˜ˆë¡œ. ì»´íŒŒì¼ëŸ¬ëŠ” í…ìŠ¤íŠ¸ë¥¼ í† í°í™” í•˜ê³ , í† í°ì„ íŒŒì‹±í•´ì„œ êµ¬ë¬¸íŠ¸ë¦¬ë¥¼ ë§Œë“¤ê³ , êµ¬ë¬¸íŠ¸ë¦¬ë¥¼ ë³€í™˜í•˜ëŠ” ë‹¤ì–‘í™˜ ë‹¨ê³„ë¥¼ ê±°ì¹œ ë‹¤ìŒ, ëª©ì  ì½”ë“œë¥¼ ìƒì„±í•˜ëŠ” ë°©ì‹ ê° ë‹¨ê³„ëŠ” ìžì‹ ë§Œì˜ ë¬¸ì œì— ì§‘ì¤‘í•˜ê¸° ë•Œë¬¸ì— ë‚˜ë¨¸ì§€ ë‹¨ê³„ì— ê´€í•´ì„œëŠ” ìžì„¸ížˆ ëª°ë¼ë„ ì´í•´í•  ìˆ˜ ìžˆë‹¤.

## ì ˆì°¨

-   ë‘ë²ˆì§¸ ë‹¨ê³„ì— í•´ë‹¹í•˜ëŠ” ì½”ë“œë¥¼ ë…ë¦½ í•¨ìˆ˜ë¡œ ì¶”ì¶œí•œë‹¤.
-   í…ŒìŠ¤íŠ¸ í•œë‹¤.
-   ì¤‘ê°„ ë°ì´í„° êµ¬ì¡°ë¥¼ ë§Œë“¤ì–´ì„œ ì•žì—ì„œ ì¶”ì¶œí•œ í•¨ìˆ˜ì˜ ì¸ìˆ˜ë¡œ ì¶”ê°€í•œë‹¤.
-   í…ŒìŠ¤íŠ¸ í•œë‹¤.
-   ì¶”ì¶œí•œ ë‘ ë²ˆì§¸ ë‹¨ê³„ í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ë¥¼ í•˜ë‚˜ì”© ê²€í† í•œë‹¤. ê·¸ì¤‘ ì²« ë²ˆì§¸ ë‹¨ê³„ì—ì„œ ì‚¬ìš©ë˜ëŠ” ê²ƒì€ ì¤‘ê°„ ë°ì´í„° êµ¬ì¡°ë¡œ ì˜®ê¸´ë‹¤. í•˜ë‚˜ì”© ì˜®ê¸¸ ë•Œë§ˆë‹¤ í…ŒìŠ¤íŠ¸ í•œë‹¤.
-   ì²« ë²ˆì§¸ ë‹¨ê³„ ì½”ë“œë¥¼ í•¨ìˆ˜ë¡œ ì¶”ì¶œí•˜ë©´ì„œ ë°ì´í„° êµ¬ì¡°ë¥¼ ë°˜í™˜í•˜ë„ë¡ ë§Œë“ ë‹¤.

## ì˜ˆì‹œ

ìƒí’ˆì˜ ê²°ì œ ê¸ˆì•¡ì„ ê³„ì‚°í•˜ëŠ” ì½”ë“œ

```JavaScript
function priceOrder(product, quantity, shippingMethod){
  const basePrice = product.basePrice * quantity;
  const discount = Math.max(quantity - product.discountThreshold, 0)
          * product.basePrice * product.discountRate;
  const shippingPerCase = (basePrice > shippingMethod.discountThreshold)
                ? shippingMethod.discountedFee : shippingMethod.feePerCase;
  const shoppingCost = quantity * shippingPerCase;
  const price = basePrice - discount + shippingCost;
  return price;
}
```

ê°„ë‹¨í•œ ì˜ˆì§€ë§Œ, ê°€ë§Œ ë³´ë©´ ê³„ì‚°ì´ ë‘ ë‹¨ê²Œë¡œ ì´ë¤„ì§ì„ ì•Œ ìˆ˜ ìžˆë‹¤.

-   ì•žì˜ ëª‡ ì¤„ì€ ìƒí’ˆ ì •ë³´ë¥¼ ì´ìš©í•´ì„œ ê²°ê²Œ ê¸ˆì•¡ ì¤‘ ìƒí’ˆ ê°€ê²©ì„ ê³„ì‚°í•œë‹¤.
-   ë’¤ì˜ ì½”ë“œëŠ” ë°°ì†¡ì •ë³´ë¥¼ ì´ìš©í•˜ì—¬ ê²°ì œ ê¸ˆì•¡ ì¤‘ ë°°ì†¡ë¹„ë¥¼ ê³„ì‚°í•œë‹¤.
-   ë‚˜ì¤‘ì— ìƒí’ˆ ê°€ê²©ê³¼ ë°°ì†¡ë¹„ ê³„ì‚°ì„ ë” ë³µìž¡í•˜ê²Œ ë§Œë“œëŠ” ë³€ê²½ì´ ìƒê¸´ë‹¤ë©´ ì´ ì½”ë“œëŠ” ë‘ ë‹¨ê³„ë¡œ ë‚˜ëˆ„ëŠ ê²ƒì´ ì¢‹ë‹¤.

1. ë¨¼ì € ë°°ì†¡ë¹„ ê³„ì‚° ë¶€ë¶„ì„ í•¨ìˆ˜ë¡œ ì¶”ì¶œí•œë‹¤.

```JavaScript
function priceOrder(product, quantity, shippingMethod){
  const basePrice = product.basePrice * quantity;
  const discount = Math.max(quantity - product.discountThreshold, 0)
              * product.basePrice * product.discountRate;

  const price = applyShipping(basePrice, shippingMethod, quantity, discount);
  return price;
}
// 2ë²ˆì§¸ ë‹¨ê³„ë¥¼ ì²˜ë¦¬í•˜ëŠ” í•¨ìˆ˜
function applyShipping(basePrice, shippingMethod, quantity, discount){
  const shippingPerCase = (basePrice > shippingMethod.discountThreshold)
                  ? shippingMethod.discountedFee : shippingMethod.feePerCase;
  const shippingCost = quantity * shippingPerCase;
  const price = basePrice - discount + shippingCost;
  return price;
}
```

2. ë‹¤ìŒìœ¼ë¡œëŠ” ì²« ë²ˆì§¸ ë‹¨ê³„ì™€ ë‘ ë²ˆì§¸ ë‹¨ê³„ê°€ ì£¼ê³ ë°›ì„ ì¤‘ê°„ ë°ì´í„° êµ¬ì¡°ë¥¼ ë§Œë“ ë‹¤.

```JavaScript
function priceOrder(product, quantity, shippingMethod){
  const basePrice = product.basePrice * quantity;
  const discount = Math.max(quantity - product.discountThreshold, 0)
          * product.basePrice * product.discountRate;
  const priceData = {}; //ì¤‘ê°„ ë°ì´í„° êµ¬ì¡°
  const price = applyShipping(priceData, basePrice, shippingMethod, quantity, discount);
  return price;
}

function applyShipping(priceData, basePrice, shippingMethod, quantity, discount){
  const shippingPerCase = (basePrice > shippingMethod.discountThreshold)
                    ? shippingMethod.discountedFee : shippingMethod.feePerCase;
  const shippingCost = quantity * shippingPerCase;
  const price = basePrice - discount + shippingCost;
  return price;
}
```

3. ì´ì œ applyShipping()ì— ì „ë‹¬ë˜ëŠ” ë‹¤ì–‘í•œ ë§¤ê°œë³€ìˆ˜ë¥¼ ì‚´í‘œë³´ìž. ì´ì¤‘ basePriceëŠ” ì²« ë²ˆì§¸ ë‹¨ê³„ë¥¼ ìˆ˜í–‰í•˜ëŠ” ì½”ë“œì—ì„œ ìƒì„±ëœë‹¤. ë”°ë¼ì„œ ì¤‘ê°„ ë°ì´í„° êµ¬ì¡°ë¡œ ì˜®ê¸°ê³  ë§¤ê°œë³€ìˆ˜ ëª©ë¡ì—ì„œ ì œê±°í•œë‹¤.

```JavaScript
function priceOrder(product, quantity, shippingMethod){
  const basePrice = product.basePrice * quantity;
  const discount = Math.max(quantity - product.discountThreshold, 0)
              * product.basePrice  * product.discountRate;
  const priceData = {basePrice: basePrice};
  const price = applyShipping(priceData, shippingMethod, quantity, discount)
  return price
}

function applyShipping(priceData, shippingMethod, quantity, discount){
    const shippingPerCase = (pricePrice.basePrice > shippingMethod.discountThreshold)
                    ? shippingMethod.discountedFee : shippingMethod.feePerCase;
  const shippingCost = quantity * shippingPerCase;
  const price = priceData.basePrice - discount + shippingCost;
  return price;
}
```

-   ì´í›„ ì—¬ëŸ¬ê°€ì§€ ë§¤ê°œë³€ìˆ˜ë“¤ì„ ì¤‘ê°„ ë³€ìˆ˜ë¡œ ì˜®ê¸´ë‹¤.

```JavaScript
function priceOrder(product, quantity, shippingMethod){
  const basePrice = product.basePrice * quantity;
  const discount = Math.max(quantity - product.discountThreshold, 0)
              * product.basePrice  * product.discountRate;
  const priceData = {basePrice: basePrice, quantity: quantity, discount: discount};
  const price = applyShipping(priceData, shippingMethod)
  return price
}

function applyShipping(priceData, shippingMethod){
    const shippingPerCase = (pricePrice.basePrice > shippingMethod.discountThreshold)
                    ? shippingMethod.discountedFee : shippingMethod.feePerCase;
  const shippingCost = priceData.quantity * shippingPerCase;
  const price = priceData.basePrice - priceData.discount + shippingCost;
  return price;
}
```

-   ì´ì œ ì²« ë²ˆì§¸ ë‹¨ê³„ ì½”ë“œë¥¼ í•¨ìˆ˜ë¡œ ì¶”ì¶œí•˜ê³  ë°ì´í„° êµ¬ì¡°ë¥¼ ë°˜í™˜í•˜ê²Œ í•œë‹¤.

```JavaScript
function priceOrder(product, quantity, shippingMethod){
  const priceData = calculatePricingData(product, quantity);
  const price = applyShipping(priceData, shippingMethod);
  return price;
}

function calculatePricingData(product, quantity){// ì²«ë²ˆì§¸ ë‹¨ê³„ë¥¼ ì²˜ë¦¬í•˜ëŠ” í•¨ìˆ˜
  const basePrice = product.basePrice * quantity;
  const discount = Math.max(quantity - product.discountThreshold, 0)
                * product.basePrice * product.discountRate;

  return {basePrice: basePrice, quantity: quantity, discount: discount};\
}

function applyShipping(priceData, shippingMethod){ // ë‘ë²ˆì§¸ ë‹¨ê³„ë¥¼ ì²˜ë¦¬í•˜ëŠ” í•¨ìˆ˜
  const shippingPerCase = (priceData.basePrice > shippingMethod.discountThreshold)
              ? shippingMethod.discountedFee : shippingMethod.feePerCase;
  const shippingCost = priceData.quantity * shippingPerCase;

  return priceData.basePrice - priceData.discount + shoppingCost;

}
```

## ì˜ˆì‹œ: ëª…ë ¹ì¤„ í‘¸ë¡œê·¸ëž¨ ìª¼ê°œê¸°(ìžë°”)

JSON íŒŒì¼ì— ë‹´ê¸´ ì£¼ë¬¸ì˜ ê°œìˆ˜ë¥¼ ì„¸ëŠ” ìžë°” í”„ë¡œê·¸ëž¨

```Java
public static void main(String[] args){
  try{
    if(args.length == 0) throw new RuntimeException("íŒŒì¼ëª…ì„ ìž…ë ¥í•˜ì„¸ìš” ");
    String filename = args[args.length - 1];
    File input = Paths.get(filename).toFile();
    ObjectMapper mapper = mapper.readValue(input, Order[].class);
    if(Stream.of(args).anyMatch(arg -> "-r".equals(arg))){
      System.out.println(Stream.of(orders)
                              .filter(o -> "ready".equals(o.status))
                              .count();
                        )
    }else{
      System.out.println(orders.length);
    }
  }catch(Exception e){
    System.out.println(e);
    System.exit(1);
  }
}
```

-   ìœ„ ì½”ë“œëŠ” ë‘ê°€ì§€ ì¼ì„ í•œë‹¤.

    -   ì£¼ë¬¸ ëª©ë¡ì„ ì½ì–´ì„œ ê°œìˆ˜ë¥¼ ì„¸ê³ 
    -   ë‹¤ë¥¸ í•˜ë‚˜ëŠ” ëª…ë ¹ì¤„ ì¸ìˆ˜ë¥¼ ë‹´ì€ ë°°ì—´ì„ ì½ì–´ì„œ í”„ë¡œê·¸ëž¨ì˜ ë™ìž‘ì„ ê²°ì •í•œë‹¤.

-   ë¦¬íŒ©í„°ë§ í•˜ê¸° ìœ„í•´ í…ŒìŠ¤íŠ¸ë¥¼ ìž‘ì„±í•˜ê³  ëª…ë ¹ì¤„ í”„ë¡œê·¸ëž¨ì€ í…ŒìŠ¤íŠ¸ í•˜ê¸°ê°€ ì–´ë µê¸° ë•Œë¬¸ì— ì¼ë°˜ì ì¸ Junit í˜¸ì¶œë¡œ ìžë°” í”„ë¡œì„¸ìŠ¤ í•˜ë‚˜ì—ì„œ í…ŒìŠ¤íŠ¸ í•  ìˆ˜ ìžˆëŠ” í™˜ê²½ ìž‘ì„±
-   ì„ í–‰ ìž‘ì—…ìœ¼ë¡œ í•µì‹¬ ìž‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ì½”ë“œ ì „ë¶€ë¥¼ í•¨ìˆ˜ë¡œ ì¶”ì¶œ

```Java
public static void main(String[] args){
  try{
    run(args);
  }catch(Exception e){
    System.out.println(e);
    System.exit(1);
  }
}

static void run(String[] args) throws IOException{
    if(args.length == 0) throw new RuntimeException("íŒŒì¼ëª…ì„ ìž…ë ¥í•˜ì„¸ìš” ");
    String filename = args[args.length - 1];
    File input = Paths.get(filename).toFile();
    ObjectMapper mapper = mapper.readValue(input, Order[].class);
    if(Stream.of(args).anyMatch(arg -> "-r".equals(arg))){
      System.out.println(Stream.of(orders)
                              .filter(o -> "ready".equals(o.status))
                              .count();
                        )
    }else{
      System.out.println(orders.length);
    }
}
```

-   ê²°ê³¼ë¥¼ ë°›ì•„ë³´ê¸° ìœ„í•´ í‘œì¤€ ì¶œë ¥ìœ¼ë¡œ ë³´ë‚´ëŠ” ë°©ì‹ì„ ìˆ˜ì •

```Java
public static void main(String[] args){
  try{
    System.out.println(run(args));
  }catch(Exception e){
    System.err.println(e);
    System.exit(1);
  }
}

static long run(String[] args) throws IOException{
  if(args.length == 0) throw new RuntimeException("íŒŒì¼ëª…ì„ ìž…ë ¥í•˜ì„¸ìš”.");
  String filename = args[args.length - 1];
  File input = Paths.get(filename).toFile();
  ObjectMapper mapper = new ObjectMapper();
  Order[] orders = mapper.readValue(input, Order[].class);
  if(Stream.of(args).anyMatch(arg -> "-r".equals(arg)))
    return STream.of(orders).filter(o -> "ready".equals(o.status)).count();
  else
    return orders.length;
}
```

-   ì´ë ‡ê²Œ í•˜ë©´ ê¸°ì¡´ ë™ìž‘ì„ ë§ì¹˜ì§€ ì•Šìœ¼ë©´ì„œ run() ë©”ì„œë“œë¥¼ ê²€ì‚¬í•˜ëŠ” junit í…ŒìŠ¤íŠ¸ë¥¼ ìž‘ì„±í•  ìˆ˜ ìžˆë‹¤.
-   í…ŒìŠ¤íŠ¸ê°€ ëŠë¦¬ê±°ë‚˜ ë¶ˆíŽ¸í•˜ë©´ ë¦¬íŒ©í„°ë§ ì†ë„ê°€ ëŠë ¤ì§€ê³  ì˜¤ë¥˜ê°€ ìƒê¸¸ ê°€ëŠ¥ì„±ë„ ì»¤ì§„ë‹¤.

`ëª…ë ¹ì¤„ í˜¸ì¶œê³¼ í‘œì¤€ ì¶œë ¥ì— ì“°ëŠ” ëŠë¦¬ê³  ë¶ˆíŽ¸í•œ ìž‘ì—…ê³¼ ìžì£¼ í…ŒìŠ¤íŠ¸í•´ì•¼ í•  ë³µìž¡í•œ ë™ìž‘ì„ ë¶„ë¦¬í•¨ìœ¼ë¡œì¨ í…ŒìŠ¤íŠ¸ë¥¼ ë” ì‰½ê²Œ ìˆ˜í–‰í•˜ê²Œ ë§Œë“¤ì—ˆë‹¤.`

-   ì´ì œ ë‹¨ê³„ë¥¼ ìª¼ê° ë‹¤.

1. ê°€ìž¥ ë¨¼ì € í•  ì¼ì€ ë‘ ë²ˆì§¸ ë‹¨ê³„ì— í•´ë‹¹í•˜ëŠ” ì½”ë“œë¥¼ ë…ë¦½ëœ ë©”ì„œë“œë¡œ ì¶”ì¶œí•˜ëŠ” ê²ƒì´ë‹¤.

```Java
static long run(String[] args) throws IOException{
  if(args.length == 0) throw new RuntimeException("íŒŒì¼ëª…ì„ ìž…ë ¥í•˜ì„¸ìš”.");
  String filename = args[args.length - 1];
  return countOrders(args, filename);
}

private static long countOrders(String[] args, String filename) throws IOException{
  File input = Paths.get(filename).toFile();
  ObjectMapper mapper = new ObjectMapper();
  Order[] orders = mapper.readValue(input, Order[].class);
  if(Stream.of(args).anyMatch(arg -> "-r".equals(arg)))
    return Stream.of(orders).filter(o -> "ready".equals(o.status)).count();
  else
    return orders.length;
}
```

2. ë‹¤ìŒìœ¼ë¡œ ì¤‘ê°„ ë°ì´í„° êµ¬ì¡°ë¥¼ ì¶”ê°€í•œë‹¤. ë ˆì½”ë“œëŠ” ë‹¨ìˆœí•œ ê²Œ ì¢‹ì€ë°, ìžë°”ì´ë¯€ë¡œ í´ëž˜ìŠ¤ë¡œ êµ¬í˜„í•œë‹¤.

```Java
static long run(String[] args) throws IOException{
  if(args.length == 0) throw new RuntimeException("íŒŒì¼ëª…ì„ ìž…ë ¥í•˜ì„¸ìš”.");
  CommandLine commandLine = new CommandLine();
  String filename = args[args.length - 1];
  return countOrders(commandLine, args, filename);
}

private static long countOrders(CommandLine commandLine, String[] args,
 String filename) throws IOException {
  File input = Paths.get(filename).toFile();
  ObjectMapper mapper = new ObjectMapper();
  Order[] orders = mapper.readValue(input, Order[].class);
  if(Stream.of(args).anyMatch(arg -> "-r".equals(arg)))
    return Stream.of(orders).filter(o -> "ready".equals(o.status)).count();
  else
    return orders.length;
}

private static class CommandLine {}
```

3. ì´ì œ ë‘ ë²ˆì§¸ ë‹¨ê³„ ë©”ì„œë“œì¸ countOrders()ë¡œ ì „ë‹¬ë˜ëŠ” ë‹¤ë¥¸ ì¸ìˆ˜ë“¤ì„ ì‚´íŽ´ë³¸ë‹¤.

-   argsë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ê°€ìž¥ ë¨¼ì € í•  ì¼ì€ ì´ ê°’ì„ ì‚¬ìš©í•˜ëŠ” ë¶€ë¶„ì„ ì°¾ì•„ì„œ ê·¸ ê²°ê³¼ë¥¼ ì¶”ì¶œí•˜ëŠ” ê²ƒ
-   "ready" ìƒíƒœì¸ ì£¼ë¬¸ë§Œ ì„¸ëŠ”ì§€ í™•ì¸í•˜ëŠ” ë° ì‚¬ìš©í•˜ë¯€ë¡œ ì´ ì¡°ê±´ì‹ì„ ë³€ìˆ˜ë¡œ ì¶”ì¶œí•œë‹¤.

```Java
static long run(String[] args) throws IOException{
  if(args.length == 0) throw new RuntimeException("íŒŒì¼ëª…ì„ ìž…ë ¥í•˜ì„¸ìš”");
  CommandLine commandLine = new CommandLine();
  String filename = args[args.length - 1];
  return countOrders(commandLine, args, filename);
}

private static long countOrders(CommandLine commandLine,
        String[] args, String filename) throws IOException{
  File input = Paths.get(filename).toFile();
  ObjectMapper mapper = new ObjectMapper();
  Order[] orders = mapper.readValue(input, Order[].class);
  boolean onlyCountReady = Stream.of(args).anyMatch(arg -> "-r".equals(arg));;
  if(onlyCountReady)
    return Stream.of(orders).filter(o -> "ready".equals(o.status)).count();
  else
    return orders.length;
}

private static class CommandLine{}
```

-   ì´ê°’ë“¤ì„ ì¤‘ê°„ ë°ì´í„° êµ¬ì¡°ë¡œ ì˜®ê¸´ë‹¤.

```Java
static long run(String[] args) throws IOException{
  if(args.length == 0) throw new RuntimeException("íŒŒì¼ëª…ì„ ìž…ë ¥í•˜ì„¸ìš”");
  CommandLine commandLine = new CommandLine();
  String filename = args[args.length - 1];
  return countOrders(commandLine, args, filename);
}

private static long countOrders(CommandLine commandLine,
        String[] args, String filename) throws IOException{
  File input = Paths.get(filename).toFile();
  ObjectMapper mapper = new ObjectMapper();
  Order[] orders = mapper.readValue(input, Order[].class);

  commandLine.onlyCountReady = Stream.of(args).anyMatch(arg -> "-r".equals(arg));

  if(commandLine.onlyCountReady)
    return Stream.of(orders).filter(o -> "ready".equals(o.status)).count();
  else
    return orders.length;
}

private static class CommandLine{
  boolean onlyCountReady;
}
```

-   ë‹¤ìŒìœ¼ë¡œ onlyCountReadyì— ê°’ì„ ì„¤ì •í•˜ëŠ” ë¬¸ìž¥ì„ í˜¸ì¶œí•œ ê³³ìœ¼ë¡œ ì˜®ê¸´ë‹¤.
-   ì´ì–´ì„œ filename ë§¤ê°œë³€ìˆ˜ë¥¼ ì¤‘ê°„ ë°ì´í„° êµ¬ì¡°ì¸ CommandLine ê°ì²´ë¡œ ì˜®ê¸´ë‹¤.

```Java
static long run(String[] args) throws IOException{
  if(args.length == 0) throw new RuntimeException("íŒŒì¼ëª…ì„ ìž…ë ¥í•˜ì„¸ìš”");
  CommandLine commandLine = new CommandLine();
  commandLine.filename = args[args.length - 1];
  commandLine.onlyCountReady = Stream.of(args).anyMatch(arg -> "-r".equals(arg));
  return countOrders(commandLine);
}

private static long countOrders(CommandLine commandLine) throws IOException{
  File input = Paths.get(commandLine.filename).toFile();
  ObjectMapper mapper = new ObjectMapper();
  Order[] orders = mapper.readValue(input, Order[].class);

  if(commandLine.onlyCountReady)
    return Stream.of(orders).filter(o -> "ready".equals(o.status)).count();
  else
    return orders.length;
}

private static class CommandLine{
  boolean onlyCountReady;
  String filename;
}
```

-   ë§¤ê°œë³€ìˆ˜ ì²˜ë¦¬í›„ ì´ì œ ì²« ë²ˆì§¸ ë‹¨ê³„ì˜ ì½”ë“œë¥¼ ë©”ì„œë“œë¡œ ì¶”ì¶œí•œë‹¤.

```Java
static long run(String[] args) throws IOException{
 CommandLine commandLine = parseCommandLine(args);
 return countOrders(commandLine);
}

private static CommandLine parseCommandLine(String[] args){
   if(args.length == 0) throw new RuntimeException("íŒŒì¼ëª…ì„ ìž…ë ¥í•˜ì„¸ìš”");
  CommandLine commandLine = new CommandLine();
  commandLine.filename = args[args.length - 1];
  commandLine.onlyCountReady = Stream.of(args).anyMatch(arg -> "-r".equals(arg));
  return commandLine;
}

private static long countOrders(CommandLine commandLine) throws IOException{
  File input = Paths.get(commandLine.filename).toFile();
  ObjectMapper mapper = new ObjectMapper();
  Order[] orders = mapper.readValue(input, Order[].class);

  if(commandLine.onlyCountReady)
    return Stream.of(orders).filter(o -> "ready".equals(o.status)).count();
  else
    return orders.length;
}

private static class CommandLine{
  boolean onlyCountReady;
  String filename;
}
```

-   ë‹¨ê³„ ìª¼ê°œê¸° ë¦¬íŒ©í„°ë§ì˜ í•µì‹¬ì€ ì´ ì •ë„ë¡œ ëë‚¬ë‹¤. ì¶”ê°€ë¡œ ì¸ë¼ì¸í•˜ê¸°ì™€ ì´ë¦„ë°”ê¾¸ê¸°ë¡œ ì¡°ê¸ˆ ë” ì •ë¦¬í•œë‹¤.

```Java
static long run(String[] args) throws IOException{
 return countOrders( parseCommandLine(args));
}

private static CommandLine parseCommandLine(String[] args){
   if(args.length == 0) throw new RuntimeException("íŒŒì¼ëª…ì„ ìž…ë ¥í•˜ì„¸ìš”");
  CommandLine result = new CommandLine();
  result.filename = args[args.length - 1];
  result.onlyCountReady = Stream.of(args).anyMatch(arg -> "-r".equals(arg));
  return result;
}

private static long countOrders(CommandLine commandLine) throws IOException{
  File input = Paths.get(commandLine.filename).toFile();
  ObjectMapper mapper = new ObjectMapper();
  Order[] orders = mapper.readValue(input, Order[].class);

  if(commandLine.onlyCountReady)
    return Stream.of(orders).filter(o -> "ready".equals(o.status)).count();
  else
    return orders.length;
}

private static class CommandLine{
  boolean onlyCountReady;
  String filename;
}
```

-   ì´ì œ ëª…í™•í•˜ê²Œ ë‘ë‹¨ê³„ë¡œ ë¶„ë¦¬ë˜ì—ˆë‹¤.
    -   parseCommandLine()ì€ ì˜¤ë¡œì§€ ëª…ë ¹ì¤„ ê´€ë ¨ ìž‘ì—…ë§Œ ì²˜ë¦¬
    -   countOrders()ëŠ” ì‹¤ì œë¡œ ì²˜ë¦¬í•  ìž‘ì—…ë§Œ ìˆ˜í–‰
    -   ë‘ ë©”ì„œë“œë¥¼ ë…ë¦½ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•´ì¡Œë‹¤

## ì˜ˆì‹œ: ì²« ë²ˆì§¸ ë‹¨ê²Œì— ë³€í™˜ê¸° ì‚¬ìš©í•˜ê¸°(ìžë°”)

ì•žì— ì²˜ëŸ¼ í•˜ì§€ ì•Šê³  ëª…ë ¹ì¤„ ì¸ìˆ˜ë¥¼ ë‹´ì€ ë¬¸ìžì—´ ë°°ì—´ì„ ë‘ ë²ˆì§¸ ë‹¨ê³„ì— ì í•©í•œ ì¸í„°íŽ˜ì´ìŠ¤ë¡œ ë°”ê¿”ì£¼ëŠ” ë³€í™˜ê¸° ê°ì²´ë¥¼ ë§Œë“¤ì–´ë„ ëœë‹¤.

```Java
static long run(String[] args) throws IOException{
  if(args.length == 0) throw new RuntimeException("íŒŒì¼ëª…ì„ ìž…ë ¥í•˜ì„¸ìš”");
  CommandLine commandLine = new CommandLine();
  String filename = args[args.length - 1];
  return countOrders(commandLine, args, filename);
}

private static long countOrders(CommandLine commandLine, String[] args,
            String filename) throws IOException{
  File input = Paths.get(filename).toFile();
  ObjectMapper main = new ObjectMapper();
  Order[] orders = mapper.readValue(input, Order[].class);
  if(Stream.of(args).anyMatch(arg -> "-r".equals(args)))
    return Stream.of(orders).filter(o -> "ready".equals(o.status)).count();
  else
    return orders.length;
}

private static class CommandLine{}
```

-   ì•ž ì˜ˆì‹œì—ì„œëŠ” ë ˆì½”ë“œ êµ¬ì¡°ë¥¼ ë§Œë“¤ì—ˆê¸° ë–„ë¬¸ì— ë‚´ë¶€ í´ëž˜ìŠ¤ë¡œ ë§Œë“¤ì—ˆì§€ë§Œ ë‹¤ìŒê³¼ ê°™ì´ ë™ìž‘ê¹Œì§€ í¬í•¨í•˜ëŠ” ìµœìƒìœ„ í´ëž˜ìŠ¤ë¡œ ë¹¼ë‚´ëŠ” ë°©ë²•ë„ ìžˆë‹¤.

```Java
public class App{
  static long run(STring[] args) throws IOException{
    CommandLine commandLine = new CommandLine(args);
    return countOrders(commandLine);
  }

  private static long countOrders(CommandLine commandLine) throws IOException{
    File input = Paths.get(commandLine.filename()).toFile();
    ObjectMapper mapper = new ObjectMapper();
    Order[] orders = mapper.readValue(input, Order[].class);
    if(commandLine.onlyCountReady()){
      return Stream.of(orders).filter(o -> "ready".equals(o.status)).count();
    }else{
      return orders.length;
    }
  }
}
public class CommandLine{
  String[] args;
  public CommandLine(String[] args){
    this.args = args;
    if(args.length == 0) throw new RuntimeException("íŒŒì¼ëª…ì„ ìž…ë ¥í•˜ì„¸ìš”");
  }
  String filename(){
    return args[args.length - 1];
  }
  boolean onlyCountReady(){
    return Stream.of(args).anyMatch(arg -> "-r".equals(arg));
  }
}
```
