# ë§¤ê°œë³€ìˆ˜ ë§Œë“¤ê¸°

```JavaScript
function amountInvoiced(startDate, endDate){...}
function amountReceived(startDate, endDate){...}
function amountOverdue(startDate, endDate){...}
```

<center>ðŸ”½</center>

```JavaScript
function amountInvoiced(aDateRange){...}
function amountReceived(aDateRange){...}
function amountOverdue(aDateRange){...}
```

## ë°°ê²½

ë§¤ê°œë³€ìˆ˜ í•­ëª©ì´ ì—¬ëŸ¬ê°œë¼ë©´ ë°ì´í„° êµ¬ì¡°ë¡œ ë¬´ê»‘ë¼ ì´ë ‡ê²Œ í•˜ë©´ ë°ì´í„° ì‚¬ì´ì˜ ê´€ê³„ê°€ ëª…í™•í•´ì§„ë‹¤ëŠ” ì´ì ì„ ì–»ëŠ”ë‹¤. ê°™ì€ ë°ì´í„° êµ¬ì¡°ë¥¼ ë°›ê²Œ í•˜ë©´ ë§¤ê°œë³€ìˆ˜ ìˆ˜ê°€ ì¤„ì–´ë“ ë‹¤.

`ì´ ë¦¬íŒ©í„°ë§ì˜ ì§„ì •í•œ íž˜ì€ ì½”ë“œë¥¼ ë” ê·¼ë³¸ì ìœ¼ë¡œ ë°”ê¿”ì¤€ë‹¤ëŠ” ë° ìžˆë‹¤.`

## ì ˆì°¨

-   ì ë‹¹í•œ ë°ì´í„° êµ¬ì¡°ê°€ ì•„ì§ ë§ˆë ¨ë˜ì–´ ìžˆì§€ ì•Šë‹¤ë©´ ìƒˆë¡œ ë§Œë“ ë‹¤.
-   í…ŒìŠ¤íŠ¸ í•œë‹¤.
-   í•¨ìˆ˜ ì„ ì–¸ ë°”ê¾¸ê¸°ë¡œ ìƒˆ ë°ì´í„° êµ¬ì¡°ë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ì¶”ê°€í•œë‹¤.
-   í…ŒìŠ¤íŠ¸í•œë‹¤.
-   í•¨ìˆ˜ í˜¸ì¶œ ì‹œ ìƒˆë¡œìš´ ë°ì´í„° êµ¬ì¡° ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë„˜ê¸°ë„ë¡ ìˆ˜ì •í•œë‹¤. í•˜ë‚˜ì”© ìˆ˜ì •í•  ë•Œë§ˆë‹¤ í…ŒìŠ¤íŠ¸í•œë‹¤.
-   ê¸°ì¡´ ë§¤ê°œë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë˜ ì½”ë“œë¥¼ ìƒˆ ë°ì´í„° êµ¬ì¡°ì˜ ìš°ë„ˆì†Œë¥¼ ì‚¬ìš©í•˜ë„ë¡ ë°”ê¾¼ë‹¤.
-   ë‹¤ ë°”ê¿§ë‹¤ë©´ ê¸°ì¡´ ë§¤ê°œë³€ìˆ˜ë¥¼ ì œê±°í•˜ê³  í…ŒìŠ¤íŠ¸ í•œë‹¤.

## ì˜ˆì‹œ

ì˜¨ë„ ì¸¡ì •ê°’(redings) ë°°ì—´ì—ì„œ ì •ìƒ ìž‘ë™ ë²”ìœ„ë¥¼ ë²—ì–´ë‚œ ê²ƒì´ ìžˆëŠ”ì§€ ê²€ì‚¬í•˜ëŠ” ì½”ë“œë¥¼ ì‚´íŽ´ë³´ìž.

```JavaScript
const station = {name : "ZB1",
  redings: [
    {temp: 47, time: "2016-11-10 09:10"},
    {temp: 53, time: "2016-11-10 09:20"},
    {temp: 58, time: "2016-11-10 09:30"},
    {temp: 53, time: "2016-11-10 09:40"},
    {temp: 51, time: "2016-11-10 09:50"},
  ]
}
```

```JavaScript
// ì •ìƒ ë²”ìœ„ë¥¼ ë²—ì–´ë‚œ ì¸¡ì •ê°’ì„ ì°¾ëŠ” í•¨ìˆ˜
function redingsOutsideRange(station, min, max){
  return station.redings.filter(r => r.temp < min || r.temp > max);
}
```

```JavaScript
// í˜¸ì¶œë¬¸
alerts = readingsOutsideRange(station,
                      operatingPlan.temperatureFloor, // ìµœì €ì˜¨ë„
                      operatingPlan.temperatureCeiling); //ìµœê³ ì˜¨ë„
```

`ë²”ìœ„ë¼ëŠ” ê°œë…ì€ ê°ì²´ í•˜ë‚˜ë¡œ ë¬¶ì–´ í‘œí˜„í•˜ëŠ”ê²Œ ë‚˜ì€ ëŒ€í‘œì ì¸ ì˜ˆ`

```JavaScript
class NumberRange{
  constructor(min, max){
    this._data = {min: min, max: max};
  }

  get min(){return this._data.min;}
  get max(){return this._data.max;}
}
```

-   JSê°ì²´ê°€ ì•„ë‹Œ í´ëž˜ìŠ¤ë¡œ ì„ ì–¸í•œ ì´ìœ ëŠ” ì´ ë¦¬íŒ©í„°ë§ì€ ìƒˆë¡œ ìƒì„±í•œ ê°ì²´ë¡œ ë™ìž‘ê¹Œì§€ ì˜®ê¸°ëŠ” ë” í° ìž‘ì—…ì˜ ì²« ë‹¨ê³„ë¡œ ìˆ˜í–‰ë  ë–„ê°€ ë§Žê¸° ë•Œë¬¸

-   ìƒˆë¡œ ë§Œë“  ê°ì²´ë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ì¶”ê°€í•˜ë„ë¡ í•¨ìˆ˜ ì„ ì–¸ì„ ë°”ê¾¼ë‹¤.

```JavaScript
// ì •ìƒ ë²”ìœ„ë¥¼ ë²—ì–´ë‚œ ì¸¡ì •ê°’ì„ ì°¾ëŠ” í•¨ìˆ˜
function redingsOutsideRange(station, min, max, range){
  return station.redings.filter(r => r.temp < min || r.temp > max);
}

// í˜¸ì¶œë¬¸(jsëŠ” ê·¸ëƒ¥ ë‘¬ë„ ë˜ì§€ë§Œ ë‹¤ë¥¸ ì–¸ì–´ë¼ë©´ nullì¶”ê°€)
alerts = readingsOutsideRange(station,
                      operatingPlan.temperatureFloor, // ìµœì €ì˜¨ë„
                      operatingPlan.temperatureCeiling); //ìµœê³ ì˜¨ë„
```

-   ì•„ì§ê¹Œì§€ ë™ìž‘ì€ ë°”ë€ê²ƒì´ ì—†ìœ¼ë‹ˆ í…ŒìŠ¤íŠ¸ëŠ” í†µê³¼í•œë‹¤.
-   ì´ì œ ì˜¨ë” ë²”ìœ„ë¥¼ ê°ì²´ í˜•íƒœë¡œ ì „ë‹¬í•˜ë„ë¡ í˜¸ì¶œë¬¸ì„ í•˜ë‚˜ì”© ë°”ê¾¼ë‹¤.

```JavaScript
const range = new NumberRange(operatingPlan.temperatureFloor,
                              operatingPlan.temperatureCeiling);

alerts = readingsOutsideRange(station,
                              operatingPlan.temperatureFloor,
                              operatingPlan.temperatureCeiling,
                              range);
```

-   ì´ì œ ê¸°ì¡´ ë§¤ê°œë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ë¶€ë¶„ì„ ë³€ê²½í•œë‹¤.
-   í…ŒìŠ¤íŠ¸ í›„ ë§¤ê°œë³€ìˆ˜ë„ ì œê±°í•œë‹¤.

```JavaScript
// ì •ìƒ ë²”ìœ„ë¥¼ ë²—ì–´ë‚œ ì¸¡ì •ê°’ì„ ì°¾ëŠ” í•¨ìˆ˜
function redingsOutsideRange(station, range){
  return station.redings.filter(r => r.temp < range.min || r.temp > range.max);

const range = new NumberRange(operatingPlan.temperatureFloor,
                              operatingPlan.temperatureCeiling);

alerts = readingsOutsideRange(station,
                              range);

}
```

## ì§„ì •í•œ ê°’ ê°ì²´ë¡œ ê±°ë“­ë‚˜ê¸°

ë§¤ê°œë³€ìˆ˜ ê·¸ë£¹ì„ ê°ì²´ë¡œ êµì²´í•˜ëŠ” ì¼ì€ ì§„ì§œ ìž‘ì—…ì˜ ì¤€ë¹„ë‹¨ê³„ì´ë‹¤.

ì•žì—ì„œ ì²˜ëŸ¼ í´ëž˜ìŠ¤ë¡œ ë§Œë“¤ì–´ ë‘ë©´ ê´€ë ¨ ë™ìž‘ì„ì„ ì´ í´ëž˜ìŠ¤ë¡œ ì˜®ê¸¸ ìˆ˜ ìžˆë‹¤ëŠ” ì´ì ì´ ìƒê¸´ë‹¤. ( ì˜¨ë„ê°€ í—ˆìš©ë²”ìœ„ ì•ˆì— ìžˆëŠ”ì§€ ê²€ì‚¬í•˜ëŠ” ë©”ì„œë“œë¥¼ í´ëž˜ìŠ¤ì— ì¶”ê°€í•  ìˆ˜ ìžˆë‹¤.)

```JavaScript
function readingsOutsideRange(station, range){
  return station.readings
            .filter(r => !range.contains(r.temp));
}
```

```JavaScript
// NumberRange í´ëž˜ìŠ¤
contains(arg) {return (arg >= this.min && arg <= this.max);}
```

ì§€ê¸ˆê¹Œì§€ í•œ ìž‘ì—…ì€ ì—¬ëŸ¬ ê°€ì§€ ìœ ìš©í•œ ë™ìž‘ì„ ê°–ì¶˜ ë²”ìœ„(Range)í´ëž˜ìŠ¤ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•œ ì²« ë‹¨ê³„ë‹¤.

ë²”ìœ„ë¥¼ ì‚¬ìš©í•˜ëŠ” ê°œë…ì€ ê°ì²´ë¡œ ë°”ê¾¸ìž. (ê°’ì— ê¸°ë°˜í•œ ë™ì¹˜ì„± ê²€ì‚¬ ë©”ì„œë“œ ë¶€í„° ì¶”ê°€í• ê²ƒì´ë‹¤. equals, hashCode)
