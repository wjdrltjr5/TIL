## 프레젠터와 험블 객체

프레젠터는 험블 객체 패턴을 따른 형태로 아키첵처 경계를 식별하고 보호하는 데 도움이 된다.

### 험블 객체 패턴

험블 객체 패턴은 디자인 패턴으로 테스트하기 어려운 행위와 테스트하기 쉬운 행위를 단위 테스트로 작성자가 분리하기 쉽게 하는 방법으로 고안되었다.

행위들을 두 개의 모듈 또는 클래스로 나눈다. 이들 모듈중 하나가 험블이다.

가장 기본적인 본질은 남기고, 테스트하기 어려운 행위를 모두 험블 객체로 옮긴다. 나머지 모듈에는 험블 객체에 속하지 않은 테스트 하기 쉬운 행위를 모두 옮긴다.

예로 GUI의 위치에 관한 테스트는 어렵지만 행위에 관한 테스트는 쉽다. 험블객체를 사용하면 프레젠터와 뷰라는 서로 다른 클래스로 만들 수 있다.

### 테스트와 아키텍처

테스트 용이성은 좋은 아키텍처가 지녀할 속성

### 데이터베이스 게이트웨이

유스케이스 인터랙터와 데이터베이스 사이에는 데이터베이스 케이트웨이가 위치한다. 게이트웨이는 다형적 인터페이스로, 애플리케이션이 DB작업과 관련된 모든 메서드를 포함한다.

인터페이스의 구현체는 DB계층에 위치하며 이 구현체는 험블 객체다.

인터랙터는는 애플리케이션에 특화된 업무 규칙을 캡슐화하기 때문에 험블 객체가 아니다. 따라서 테스트 하기 쉬운데 게이트웨이는 스텁이나 목으로 적당히 교체할 수 있기 때문이다.

### 데이터 매퍼

orm도 db계층 orm은 게이트웨이 인터페이스와 데이터베이스 사이에서 일종에 또 다른 험블 객체 경계를 형성한다.

### 서비스 리스너

애플리케이션은 데이터를 간단한 데이터 구조 형태로 로드한후 이 데이터 구조를 경계를 가로질러서 특정 모듈로 전달한다.

해당 모듈은 데이터를 적절한 포맷으로 만들어서 외부 서비스로 전송한다. 반대로 외부로부터 데이터를 수신하는 서비스의 경우 서비스 리스너가 서비스 인터페이스로부터 데이터를 수신하고 데이터를 애플리케이션에서 사용할 수 있게 간단한 데이터 구조로 포맷을 변경한다. 그런 후 이 데이터 구조는 서비스 경계를 가로질러서 내부로 전달된다.

---

험블객체 패턴을 사용하면 테스트 용이성을 크게 높일 수 있다.
