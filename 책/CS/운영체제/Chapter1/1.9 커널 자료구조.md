# 커널 자료구조

## 1.9.1 리스트, 스택 및 큐

메인 메모리는 하나의 배열로 구축된다. 저장된 데이터가 한 바이트보다 크면 그 데이터에 다수의 바이트가 할당되면 그 데이터는 데이터 수 \* 데이터 크기로 주소 지정된다.

크기가 변하는 데이터를 위해 자료구조를 사용한다.

`리스트`는 데이터 값들의 집단을 하나의 시퀀스로 표시한다. 이 구조를 구현하는 가장 일반적인 방법이 연결리스트이다.

-   단일 연결리스트
-   이중 연결리스트
-   원형 연결리스트

`스택`은 순차적 순서를 가진 자료구조로 항을 넣거나 꺼내는데 `후입선출`을 사용한다.

`큐`는 순차 순서의 자료구조로 `선입선출`을 사용한다.

## 1.9.2 트리

`트리`는 데이터의 서열을 표시하는데 사용 가능한 자료구도이다.

-   `일반트리`에서 부모는 임의의 수의 자식을 가질 수 있다
-   `이진트리`에서는 부모는 최대 두 개의 자식을 가질 수 있다.
-   `이진 탐색 트리`는 추가로 부모의 두 자식 사이에 좌측자식 <= 우측자식의 순서를 요구한다.
-   `균형 이진 트리`는 이진 탐색 트리에서 최악 상황 (한쪽으로 몰린 트리)을 방지하는 트리
    -   Linux가 CPU 스케줄링 알고리즘의 일부로 (red-black tree) 균형 이진 탐색 트리를 사용

## 1.9.3 해시 함수와 맵

`해시함수`는 데이터를 입력으로 받아 이 데이터에 산술 연산을 수행하여 하나의 수를 반환한다.

이 수는 그 데이터를 인출하기 위해 테이블(전형적으로 하나의 배열)의 인덱스로 사용할 수 있다 리스트에서 데이터를 찾는데 O(N)가 걸리는 반면 테이블에서 해시 함수를 사용할 경우 O(1)만큼 좋을 수 있다.

해시 함수의 한 용도는 `해시 맵`을 구현하는 일 해시 맵은 해시 함수를 사용하여 키값을 연관시킨다 일단 매핑이 성립되면 키에 해시 함수를 적용하여 새시 맵으로부터 그 값을 얻을 수 있다.

## 1.9.4 비트맵

`비트맵`은 n개의 항의 상태를 나타내는 데 사용 가능한 n개의 이진 비트의 스트링이다.

다수의 자원이 있을때 각 자원의 가용여부를 이진 비트의 값으로 표시한다. 0은 자원이 사용가능함을 표시하고, 1은 사용 불가능함을 표시한다.

```
-- 자원 2,4,5,6,8 은 사용 불가능 상태
001011101

```

비트맵의 힘은 이들의 공간 효율을 생각하면 자명하다. 비트맵은 대량의 자원의 가용성을 표시할 때 일반적으로 사용된다.

디스크 드라이브를 예로 중간 크기의 디스크 드라이브는 디크스 블록 이라 불리는 수천 개의 독립된 단위로 나누어진다. 각 디스크 블록의 가용 여부를 나타내기 위해 비트맵을 사용할 수 있다.

```
Linux 커널 자료구조
Linux 커널에서 사용되는 자료구조는 커널 소스 코드에서 확인할 수 있다. In-clude파일 <linux/list.h>는 커널 전체에서 사용되는 연결 리스트 자료구조의 세부사항을 제공한다.

Linux에서 큐는  kfifo라고 하며, 구현은 소스 코드의 kernel 디렉터리에 있는 kfifo.c파일에서 찾을 수 있다.

Linux는 red-black 트리를 사용하여 균형 이진 탐색 트리를 제공한다.
```
