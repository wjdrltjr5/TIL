# 문제정리

## 1 오라클에서 예상 실행계획을 확인하고자 할 때, 명령어와 함수명

```sql
explain plan for
select * from emp where ename = :ename and deptno = :deptno;

select * from table(dbms_xplan.display(null, null, 'typical'))
```

## 2 SQL Server에서 예상 실행계획을 확인하고자 할 때 들어갈 옵션

```sql
use pubs
go
set showplan_text on
go
select * from dbo.employee
go
```

## 3 오라클 예상 실행계획에서 확인할 수 있는 것들

-   예상 cardinality
-   예상 Cost
-   에상 Sort
-   조건절 정보

## 4 다음 중 오라클 AutoTrace에서 확인할 수 있는 정보

-   예상 실행계획
-   실제 디스크에서 읽은 블록 수
-   실제 기록한 Redo 크기

## 5 오라클 AutoTrace에서 SQL을 실제로 수행하지 않고 예상 실행계획만 출력하고자할 때, 들어갈 옵션

```sql
set autotrace traceonly explain
select * from emp where enmae = 'SCOTT';
```

## 6 오라클에서 파일 기반 SQL 트레이스를 확인하고자 할 때, 사용할 명령어

```sql
alter session set sql
select * from emp where enmae = 'SCOTT';
```

## 7 오라클 프레이스 파일을 ㅂ누석해서 리포트 파일을 생성해 주는 명령어

-   tkprof

## 8 오라클의 기본 SQL 트레이스에서 확인할 수 있는 정보들

-   하드파싱 횟수
-   실제 사용한 CPU Time
-   실제 디스크에서 읽은 블록 수

## 9 오라클 Auto Trace 항목과 SQL 트레이스 항목을 서로 매칭

-   consistent gets = query
-   SQL\*Net roundtrips to/from client = fetch call count
-   rows processed = fetch rows

## 10 오라클 SGA 메모리에 기록한 SQL 트레이스 정보를 출력하고자 할때 사용하는 힌트와 함수

```sql
select /*+ gather_plan_statistics*/ count(*) from big_table;

select * from table(dbms_xplan.display_cursor(null, null, 'allstats last'))
```

dbms_xplan.display_cursor: 이미 실행된 SQL의 실행 계획과 실제 실행 통계를 보여줍니다.

dbms_xplan.display: EXPLAIN PLAN으로 생성된 예상 실행 계획을 보여줍니다.

## 11 오라클 SGA 메모리에 기록한 SQL 트레이스 정보를 출력하려고 한다. 입력할 인자를 확인할 수 있는 V$SQL 컬럼명

```sql
select /*+ gather_plan_statistics */ count(*) from big_table;
select * from table(dbms_xplan.display_cursor(sql_id, chile_number, 'allstats last'))
```

## 12 다음중 DBMS_XPLAN.DISPLAY_CURSOR 함수로 SQL 트레이스 정보를 출력하기 전에 처리해야할 사항들

-   SQL에 gather_plan_statistics 힌트 사용
-   statistics_level 파라미터를 all로 설정
-   \_rowsource_execution_statistics 파라미터를 true로 설정

## 13

## 14 SQL Server에서 SQL 트레이스를 확인하고자 할 떄 아래 에 들어갈 옵션을 고르시오

```sql
use pubs
go
set statistics profile on
set statistics io on
set statistics time on
go
select * from dbo.employee
go
```

## 15 SQL Server에서 아래와 같이 설정하고 SQL을 실행했을 때 확인할 수 있는 정보들

```sql
use pubs
go
set statistics profile on
set statistics io on
set statistics time on
go
select * from dbo.employee
go
```

-   구문 분석 및 컴파일 시간
-   논리적/물리적 읽기 수
-   각 오퍼레이션 단계별 횟수

## 16 다음 중 대기 이벤트에 대한 설명으로 올바른 것들

-   프로세스가 CPU를 OS에 반환하고 수면 상태로 진입할때 나타난다.
-   프로세스가 필요로 하는 특정 리소스가 다른 프로세스에 의해 사용 중일 때 나타난다.
-   프로세스가 할 일이 없을 떄 나타난다.

## 17 SQL 하드 파싱와 가장 관런이 깊은 대기 이벤트

-   latch : shared pool

## 18

대기 이벤트를 기반으로 세션 또는 시승템 전체에 발생하는 병목 현상과 그 원인을 찾아 문제를 해결하는 방법 과정을 대기 이벤트 기반 또는 Response Time Analysis 성능관리 방법론이라고 한다.

## 19

Response Time Analysis 성능관리 방법론은 데이터 베이스의 응답시간을 아래와 같이 정의한다.

Response Time = CPU Time + Queue Time

## 20 다음 중 오라클 AWR(Automatic Workload Repository)에 대한 설명으로 가장 올바른 것

오라클 9i버전까지 사용하던 패키지 Statspack을 업그레이드해서 개발하였다.

## 21 오라클 AWR 보고서 맨 앞쪽의 보고서 요약에 포함되는 내용들

-   부하 프로파일
-   인스턴스 효율성
-   최상위 대기 이벤트

## 22 아래는 인스턴스 효율성 항목들이다 SQL 파싱과 가장 관련있는 항목들은?

-   Soft Parse %
-   Execute to Parse %
-   Parse CPU to Parse Elapsd %

## 23

Ratio 기반 성능 분석 방법론과 시스템 레벨 대기 이벤트 분석 방법론의 한계를 극복하기 위해 오라클 10g부터 지원하기 시작한 세션레벨 실시간 모니터링 기능을 ASH이라고 한다.

## 24 현재 DBMS에 발생하고 있는 장애 원인을 분석한 결과 평소보다 I/O관련 대기 이벤트가 높게 나타나고 있다 좀더 상세한 원인을 찾기 위해 사용할 동적 성능뷰들

-   v$session_wait
-   v%active_session_history
-   v$sql

## 25
