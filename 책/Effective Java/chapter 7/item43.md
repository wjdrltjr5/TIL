## 람다보다는 메서드 참조를 사용하라

---

자바에는 함수 객체를 람다보다도 더 간결하게 만드는 방법이 있으니, 메서드 참조(method reference)다

```java
//키가 맵안에 없다면 키와 숫자 1을 매핑하고 있다면 기존 매핑값 증가
map.merge(key, 1, (count, incr)-> count + incr);

//메서드 참조 방식
map.merge(key, 1, Integer::sum);
```

매개변수가 늘어날수록 메서드 참조로 제거할 수 있는 코드양도 늘어난다.

람다로 할 수 없는 일이라면 메서드 참조로도 할 수 없다.

메서드 참조의 유형은 다섯 가지로,

-   위에서 나온 정적 메서드를 가리키는 메서드 참조

-   수신 객체(참조 대상 인스턴스)를 특정하는 한정적(bound)인스턴스 메서드 참조() 정적 참조와 비슷 함수객체가 받는 인수와 참조되는 메서드가 받는 인수가 똑같음

-   수신 객체를 특정하지 않는 비한정적(unbound) 인스턴스 메서드 참조 함수 객체를 적용하는 시점에 수신 객체를 알려준다. 수신 객체 전달용 매개변수가 매개변수 목록의 첫 번째로 추가되며, 그뒤로 참조되는 메서드 선언에 정의된 매개변수들이 뒤따른다.(주로 스트림 파이프라인에서의 매핑과 필터 함수에 쓰임,item45)

-   클래스 생성자를 가리키는 메서드 참조와 배열 생성자를 가리키는 메서드 참조

| 메서드 참조유형    | 예                     | 같은 기능을 하는 함다                              |
| ------------------ | ---------------------- | -------------------------------------------------- |
| 정적               | Integer::parseInt      | str -> Integer.parseInt(str)                       |
| 한정적(인스턴스)   | Instant.now()::isAfter | Instant then = Instant.now(); t -> then.isAfter(t) |
| 비한정적(인스턴스) | String::toLowerCase    | str -> str.toLowerCase()                           |
| 클래스 생성자      | TreeMap<k,v>::new      | () -> new TreeMap<k,v>()                           |
| 배열 생성자        | int[]::new             | len -> new int[len]                                |

---

메서드 참조 쪽이 짧고 명확하다면 메서드참조를 쓰고, 아니면 람다를 써라.
