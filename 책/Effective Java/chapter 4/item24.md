## 멤버 클래스는 되도록 static으로 만들라

---

중첩클래스란 다른 클래스 안에 정의된 클래스를 말한다. 중첩 클래스는 자신을 감싼 바깥 클래스에서만 쓰여야 하며, 그 외의 쓰임새가 있다면 톱레벨 클래스로 만들어야 한다.

중첩 클래스의 종류

-   정적 멤버클래스(클래스 내부에 static으로 선언된 클래스)

```java
class Outer{

  static class Inner{...}
}
```

-   비정적 멤버클래스(static이 붙지 않은 멤버 클래스)

```java
class Outer{
  //바깥 인스턴스 없이는 사용 불가
  class Inner{...}
}
```

-   익명 클래스(기존에 있는 클래스의 특정 메서드를 오버라이딩 하여 사용)

```java
package Anonymous;

public class Outer {
	Inner in = new Inner(){
      ...
	};
  in.method();

	void method1(){
    //지역변수로 사용
		Inner in = new Inner(){
			....
		};
    in.method();
	}
  // 매개변수로 받아사용하거나 인자값으로도 사용 가능

}
```

-   지역 클래스(특정한 메소드에 한정적인 용도로 사용)

```java
public class Main{
  public static void main(Stringp[] args){

    class Inner{..}
    Inner in = new Inner();
  }

}
```

---

멤버 클래스에서 바깥 인스턴스에 접근할 일이 없다면 무조건 static을 붙여서 정적 멤버 클래스로 만들자.<br>
static을 생략하면 바깥 인스턴스로의 숨은 외부 참조를 갖게 된다. 이 참조를 저장하려면 시간과 공간이 소비된다. 더 심각한 문제는 가비지컬렉션이 바깥 클래스의 인스턴스를 수거하지 못하는 메모리 누수가 생길 수 있다는 점이다.

---

메서드 밖에서도 사용해야 하거나 메서드 안에 정의하기엔 너무 길다면 멤버 클래스로 만든다. 멤버 클래스의 인스턴스 각각이 바깥 인스턴스를 참조한다면 비정적으로, 그렇지 않다면 정적으로 만들자. 중첩 클래스가 한 메서드 안에서만 쓰이면서 그 인스턴스를 생성하는 지점이 단 한 곳이고 해당 타입으로 쓰기에 적합한 클래스나 인터페이스가 이미 있다면 익명 클래스로 만들고, 그렇지 않으면 지역 클래스로 만들자.
