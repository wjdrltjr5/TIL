# 성능 테스트 도구

## nGrinder
nGrinder는 네이버에서 개발한 부하 테스트 도구로 네이버에서 검증된 기술이다. nGrinder는 grinder를 기반으로 하는데 grinder의 사용이 더 편리한 버전

nGrinder는 1개의 컨트롤러와 다수의 에이전트로 구성되어 있다. 컨트롤러는 웹 UI를 제공하고 있어 사용이 쉽다는 이점이 있다.

에이전트는 실제로 부하를 발생하고 테스트 대상 서버의 시스템 지표를 모니터링 한다. 2개 이상의 에이전트를 사용할 수 있기 떄문에 여러 장비를 활용해서 대량의 부하를 발생시킬 수 있다.

nGrinder는 Groovy나 Jython을 이용해서 테스트용 스크립트를 작성한다.

## k6
k6은 Grafana로 유명한 Grafana Labs에서 개발한 부하 테스트 도구이다. 비교적 최근에 나온 도구로 설치가 쉽다.

k6은 고 언어로 개발됐지만 테스트 스크립트는 자바스크립트를 이용해서 작성한다. k6은 고루틴을 사용해서 부하를 발생시키기 때문에 스레드를 사용하는 도구 대비 더 적은 자원으로 더 많은 부하를 발생할 수 있다.

동시에 여러 장비에서 부하를 발생시키고 싶다면 유료 버전이 k6클라우드를 사용하면 된다. 쿠버네티스 클러스터가 있다면 k6 Operator를 사용해서 분산 환경에서 부하를 발생할 수 있다. 

k6은 CLI로 실행한다. 그래서 CI/CD 환경에 통합이 용이하다. 부하 테스트 결과도 콘솔에 출력한다. Prometheus나 InfluxDB 같은 곳에 결과를 저장해서 실시간 테스트 상황을 모니터링할 수 있다. 별도의 리포트 플러그인을 사용해서 HTML과 같은 형식으로 생성할 수도 있다.

## 이외에도 
- Locust : 파이썬 코드를 사용해서 테스트를 정의하며 명령행과 웹기반 UI로 테스트를 실행할 수 있다. 분산환경에서 부하를 발생하는 기능을 제공하며 클라우드 버전도 제공한다.

- Gatling : 자바 스칼라 코틀린 자바스크립트를 이용해서 테스트 스크립트를 작성한다. 웹 요청 외에 AMQP나 카프카 등 다양한 프로토콜을 지원한다. 엔터프라이즈 버전을 사용하면 분산 환경에서 부하를 발생할 수 있다. 

- JMeter : 오랜 기간 명맥을 유지하고 있는 부하 테스트 도구로 GUI환경과 CLI환경을 지원한다. 웹 요청외에 FTP나 DB나 TCP등 다양한 어플리케이션과 프로토콜에 대한 테스트를 지원한다. 

자바를 포함한 JVM환경이 익숙하다면 nGrinder나 Gatling을 사용하고 자바 스크립트가 익숙하다면 k6를 시도해보자.