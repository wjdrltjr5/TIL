# 마이크로서비스아키텍처
마이크로서비스아키텍처는 하나의 애플리케이션에 모든 것을 구현한 모놀리식 아키텍처와 달리 더 작은 단위로 서비스를 분리하고 각 서비스가 연동되는 구조를 말한다.

마이크로 서비스 아키텍처는 모놀리식 아키텍처와 장단점을 비교하고 효과가 분명할때 도입해야 한다.

- 모놀리식 아키텍처
    - 장점
        - 배포가 단순하다.
        - 코드 관리가 더 쉽다.
        - 성능을 높이기 위해 복잡한 구조를 가질 필요가 없다.
        - 테스트와 디버깅이 쉽다.
    - 단점
        - 규모가 커질수록 개발 속도가 느려질 수 있다.
        - 한 기능의 문제가 전체에 영향을 줄 수 있다.
        - 구현 기술 변경에 어려움이 있다.
        - 작은 변경도 전체를 다시 배포해야 한다.

- 마이크로서비스
    - 장점 
        - 독립적인 배포와 지속적인 배포가 용이하다.
        - 성능 확장이 용이하다.
        - 기술에 대한 유연성을 가질 수 있다.
        - 개발자의 만족도가 더 높다.
    - 단점 
        - 테스트와 디버깅이 어려울 수 있다.
        - 모놀리식 대비 인프라가 복잡해진다.
        - 소통에 따른 부하가 증가할 수 있다.
        - 무분별하게 서비스를 만들면 분산 모놀리식이 될 수 있다.

장단점 분석과 함께 마이크로 서비스 6가지 핵심 개념도 좋은 기준이 된다.
1. 독립적 배포 : 다른 마이크로서비스를 배포하지 않고도 마이크로서비스를 변경, 배포, 출시할 수 있어야 한다.
2. 도메인을 중심으로 모델링 : 각 마이크로서비스는 도메인을 기준으로 구분해야 한다. 한 도메인의 기능 구현이 여러 마이크로서비스에 걸쳐 있으면 출시 비용이 증가한다.
3. 자신의 상태를 가짐 : 마이크로서비스는 DB를 공유하지 않는다. 다른 마이크로서비스의 데이터를 사용할 경우 DB에 직접 접근하지 않고 API등을 통해 접근한다.
4. 크기 : 마이크로서비스의 크기에 절대적인 기준은 없다. 마이크로서비스의 크기를 정할 때는 조직이 감당할 수 있는 수준과 마이크로서비스 경계 정의에 집중해야 한다.
5. 유연함 : 마이크로서비스는 비용을 들여 기술, 확장, 견고함과 같은 유연함을 얻는 구조다. 비용을 감당할 수 있는 수준에서 도입을 고려해야 한다.
6. 아키텍처와 조직을 맞춤 : 조직 구조는 아키텍처에 영향을 준다. 비즈니스 도메인이 시스템 아키텍처를 주도하는 주요 원동력이 되도록 설계한다.

이중 독립적 배포가 가장 중요하다고 강조한다. 따라서 MSA를 설계하거나 분리할 계획이라면 독립적 배포를 최우선으로 고려해야 한다. 이를 위해 각 서비스간 결합도를 최대한 낮춰야 한다.

