# 역할, 책임, 협력

앞에서는 다형성은 지연 바인딩이라는 매커니즘을 통해 구현되고 유연한 객체지향 프로그램을 위해서는 컴파일 시간 의존성과 실행시간 의존성이 달라야 한다는 사실 역시 알게 됐다.

객체지향 패러다임의 관점에서 핵심은 역할(role), 책임(responsibility), 협력(collaboration)이다.

### 협력

메시지 전송은 객체 사이의 협력을 위해 사용할 수 있는 유일한 커뮤니케이션 수단이다.

메시지를 수신한 객체는 메서드를 실행해 요청에 응답한다.

객체를 자율적으로 만드는 가장 기본적인 방법은 내부 구현을 캡슐화 하는 것이다.

### 협력이 설계를 위한 문맥을 결정한다.

객체의 행동을 결정하는 것은 객체가 참여하고 있는 협력이다. 협력이 바뀌면 객체의 행동도 바뀌어야한다.

상태는 객체가 행동하는 데 필요한 정보에 의해 결정되고 행동은 협력안에서 객체가 처리할 메시지로 결정된다. 결과적으로 객체가 참여하는 협력이 객체를 구성하는 행동과 상태 모두를 결정한다 협력은 객체를 설계하는 데 필요한 일종의 문맥을 제공한다.

### 책임이란 무엇인가.

하는 것

-   객체를 생성하거나 계산을 수행하는 등의 스스로 하는 것
-   다른 객체의 행동을 시작시키는 것
-   다른 객체의 활동을 제어하고 조절하는 것

아는 것

-   사적인 정보에 관해 아는 것
-   관련된 객체에 관해 아는 것
-   자신이 유도하거나 계산할 수 있는 것에 관해 아는 것

ex. crc카드 (클래스 책임 협력)

-   Screening :

    -   상영정보를 알고 있다. (Movie)
    -   예매 정보를 생성한다.

-   Movie :

    -   영화 정보를 알고있다. (DiscountPolicy)
    -   가격을 계산한다.

-   DiscountPolicy :

    -   할인 정책을 알고있다. (DiscountCondition)
    -   할인된 가격을 계산한다.

-   DiscountCondition :
    -   할인 조건을 알고 있다. (Screening)
    -   할인 여부를 판단한다.

책임의 관점에서는 아는것과 하는것은 밀접하게 연관돼있다.
객체에게 적절한 책임을 할당하는 것이 설계의 품질을 결정한다.

### 책임 할당.

자율적인 객체를 만드는 가장 기본적인 방법은 책임을 수행하는 데 필요한 정보를 가장잘알고있는 전문가에게 책임을 할당하는 것

그러기 위해서는 협력이라는 문맥을 정의해야함.

1.예매하라 -> 2. 가격을 계산하라...

### 메시지가 객체를 결정한다.

메시지가 객체를 선택하게 해야 하는 두가지 이유

-   객체가 최소한의 인터페이스를 가지게 된다.

-   객체는 충분히 추상적인 인터페이스를 가질 수 있게 된다.

### 행동이 상태를 결정한다.

### 역할과 협력

역할이 중요한 이유는 역할을 통해 유연하고 재사용 가능한 협력을 얻을 수 있기 때문이다.

그렇기 때문에 추상적인 이름을 붙여야 함 협력의 관점에서 동일한 역할을 수행하는 객체는 서로 대체 가능하다.

객체는 다양한 역할을 가질 수 있다. 객체는 협렵에 참여할 때 협력 안에서 하나의 역할로 보여진다. 객체가 다른 협려에 참여할 때는 다른 역할로 보여진다.
